"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[8490],{9473:(e,t,n)=>{n.d(t,{Y:()=>p});var a=n(70885),r=n(4942),o=n(8902),c=n(61647),l=n(15751);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={repository:null,namespace:null,name:null,version:null,actuallyCollection:null,collection:null,collections:[],collectionsCount:0,content:null};function p(e){var t=e.forceReload,n=e.matchParams,r=e.navigate,i=e.setCollection,p=e.stateParams.version,m=n.collection,f=n.namespace,d=n.repo;if(t||u.repository!==d||u.namespace!==f||u.name!==m||u.version!==p){var b=s(s({},d?{repository_name:d}:{}),{},{namespace:f,name:m}),g=(p?o.eq.list(s(s({},b),{},{version:p})):o.eq.list(s(s({},b),{},{is_highest:!0}))).then((function(e){return e.data.data[0]})),h=g.then((function(e){return o.gu.getContent(f,m,e.collection_version.version)})).then((function(e){return e.data.results[0]})).catch((function(){return r((0,c.dI)(c.nB.notFound))})),y=o.eq.list(s(s({},b),{},{order_by:"-version",page_size:10})).then((function(e){return e.data})).catch((function(){return{data:[],meta:{count:0}}})),v=(0,l.YH)(d).then((function(e){return o.gu.getDetail(e,f,m)})).then((function(e){return e.data}));return Promise.all([y,g,h,v]).then((function(e){var t=(0,a.Z)(e,4),n=t[0],r=n.data,o=n.meta.count,c=t[1],l=t[2],s=t[3];i(r,c,l,o,s),u.repository=d,u.namespace=f,u.name=m,u.version=p,u.actuallyCollection=s,u.collection=c,u.collections=r,u.collectionsCount=o,u.content=l}))}i(u.collections,u.collection,u.content,u.collectionsCount,u.actuallyCollection)}},28490:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(4942),r=n(15861),o=n(70885),c=n(64687),l=n.n(c),i=n(89555),s=n(15021),u=n(92950),p=n.n(u),m=n(8902),f=n(7984),d=n(61647),b=n(15751),g=n(9473);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=(0,b.EN)((function(e){var t=b.q6.parseParamString(e.location.search),n=(0,u.useState)(null),a=(0,o.Z)(n,2),c=a[0],h=a[1],v=(0,u.useState)(null),_=(0,o.Z)(v,2),O=_[0],E=_[1],j=(0,u.useState)([]),P=(0,o.Z)(j,2),w=P[0],S=P[1],C=(0,u.useState)(0),Z=(0,o.Z)(C,2),k=Z[0],D=Z[1],q=(0,u.useState)(null),x=(0,o.Z)(q,2),N=x[0],T=x[1],F=(0,u.useState)(0),Y=(0,o.Z)(F,2),I=Y[0],R=Y[1],B=(0,u.useState)(null),G=(0,o.Z)(B,2),H=G[0],z=G[1],M=(0,u.useState)(""),X=(0,o.Z)(M,2),A=X[0],K=X[1],L=(0,u.useState)(!0),Q=(0,o.Z)(L,2),U=Q[0],W=Q[1],$=(0,u.useState)(Object.keys(t).length?t:{sort:"-pulp_created"}),J=(0,o.Z)($,2),V=J[0],ee=J[1],te=function(t){(0,g.Y)({forceReload:t,matchParams:e.routeParams,navigate:e.navigate,setCollection:function(e,t,n,a,r){h(r),E(t),S(e),D(a),T(n),ne(t.repository.pulp_href)},stateParams:V})},ne=function(){var e=(0,r.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,m.Lj.list(y({repository:t},b.q6.getReduced(V,["version"])));case 3:n=e.sent,z(n.data.results),R(n.data.count),W(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if((0,u.useEffect)((function(){te(!1)}),[]),(0,u.useEffect)((function(){te(!1)}),[V]),!O||!N||w.length<=0)return p().createElement(f.gO,null);var ae=O.collection_version,re=O.repository,oe=[(0,d.Th)(),{url:(0,d.dI)(d.nB.namespaceDetail,{namespace:ae.namespace}),name:ae.namespace},{url:(0,d.dI)(d.nB.collectionByRepo,{namespace:ae.namespace,collection:ae.name,repo:re.name}),name:ae.name},{name:i.ag._({id:"7sa1l4"})}],ce=function(t){e.navigate({search:"?"+b.q6.getQueryString(t||[])}),ee(t)};return p().createElement(p().Fragment,null,p().createElement(f.X8,{activeTab:"distributions",actuallyCollection:c,breadcrumbs:oe,collection:O,collections:w,collectionsCount:k,content:N,params:V,reload:function(){return te(!0)},updateParams:function(e){ce(b.q6.setParam(e,"version",e.version))}}),p().createElement(f.or,null,p().createElement("section",{className:"body"},p().createElement("div",{className:"hub-toolbar"},p().createElement(s.Toolbar,null,p().createElement(s.ToolbarGroup,null,p().createElement(s.ToolbarItem,null,p().createElement(f.Kv,{inputText:A,onChange:function(e){K(e)},updateParams:function(e){ce(e)},params:V,filterConfig:[{id:"name__icontains",title:i.ag._({id:"6YtxFj"})},{id:"base_path__icontains",title:i.ag._({id:"cN8jw8"})}]})))),p().createElement(f.tl,{params:V,updateParams:function(e){ce(e)},count:I,isTop:!0})),p().createElement(f.M$,{updateParams:function(e){ce(e),K("")},params:V,ignoredParams:["page_size","page","sort","version"],niceNames:{base_path__icontains:i.ag._({id:"cN8jw8"}),name__icontains:i.ag._({id:"6YtxFj"})}}),U?p().createElement(f.AW,null):function(e,t){if(0===e.length)return(0,b.vS)(t,["name__icontains","base_path__icontains"])?p().createElement(f.ei,null):p().createElement(f.vv,{title:i.ag._({id:"OsUTs2"}),description:i.ag._({id:"hF8qfX"})});var n={headers:[{title:i.ag._({id:"6YtxFj"}),type:"alpha",id:"name"},{title:i.ag._({id:"cN8jw8"}),type:"alpha",id:"base_path"},{title:i.ag._({id:"d+F6q9"}),type:"alpha",id:"pulp_created"},{title:i.ag._({id:"nGGu/j"}),type:"none",id:""}]};return p().createElement("table",{"aria-label":i.ag._({id:"yi8ppy"}),className:"hub-c-table-content pf-c-table"},p().createElement(f.h2,{options:n,params:t,updateParams:function(e){ce(e)}}),p().createElement("tbody",null,e.map((function(e,t){return p().createElement("tr",{key:t},p().createElement("td",null,e.name),p().createElement("td",null,e.base_path),p().createElement("td",null,p().createElement(f.Id,{date:e.pulp_created})),p().createElement("td",null,p().createElement(f.M5,{isCode:!0,isReadOnly:!0,variant:"expansion",key:t},function(e){return["[galaxy]","server_list = ".concat(e.base_path),"","[galaxy_server.".concat(e.base_path,"]"),"url=".concat((0,b.hv)(e.base_path)),"token=<put your token here>"].join("\n")}(e))))}))))}(H,V),p().createElement(f.tl,{params:V,updateParams:function(e){ce(e)},count:I}))))}))}}]);
//# sourceMappingURL=../sourcemaps/8490.3d9f5ba0b9e7c546e05c707e2b6b8dc4.js.map