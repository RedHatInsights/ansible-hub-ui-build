"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[1404],{14048:(e,t,n)=>{n.d(t,{k:()=>p});var a=n(98920),r=n(52536),c=n(59072),o=n(32004),l=n(58860);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={repository:null,namespace:null,name:null,version:null,actuallyCollection:null,collection:null,collections:[],collectionsCount:0,content:null};function p(e){var t=e.forceReload,n=e.matchParams,r=e.navigate,i=e.setCollection,p=e.stateParams.version,m=n.collection,f=n.namespace,d=n.repo;if(t||u.repository!==d||u.namespace!==f||u.name!==m||u.version!==p){var b=s(s({},d?{repository_name:d}:{}),{},{namespace:f,name:m}),_=(p?c.Rz.list(s(s({},b),{},{version:p})):c.Rz.list(s(s({},b),{},{is_highest:!0}))).then((function(e){return e.data.data[0]})),y=_.then((function(e){return c.a4.getContent(f,m,e.collection_version.version)})).then((function(e){return e.data.results[0]})).catch((function(){return r((0,o.oD)(o.uk.notFound))})),h=c.Rz.list(s(s({},b),{},{order_by:"-version",page_size:10})).then((function(e){return e.data})).catch((function(){return{data:[],meta:{count:0}}})),v=(0,l.cV)(d).then((function(e){return c.a4.getDetail(e,f,m)})).then((function(e){return e.data}));return Promise.all([h,_,y,v]).then((function(e){var t=(0,a.c)(e,4),n=t[0],r=n.data,c=n.meta.count,o=t[1],l=t[2],s=t[3];i(r,o,l,c,s),u.repository=d,u.namespace=f,u.name=m,u.version=p,u.actuallyCollection=s,u.collection=o,u.collections=r,u.collectionsCount=c,u.content=l}))}i(u.collections,u.collection,u.content,u.collectionsCount,u.actuallyCollection)}},9024:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(52536),r=n(1528),c=n(98920),o=n(33248),l=n.n(o),i=n(72956),s=n(77104),u=n(18232),p=n.n(u),m=n(59072),f=n(49368),d=n(32004),b=n(58860),_=n(14048);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,a.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=(0,b.Ak)((function(e){var t=b.us.parseParamString(e.location.search),n=(0,u.useState)(null),a=(0,c.c)(n,2),o=a[0],y=a[1],v=(0,u.useState)(null),g=(0,c.c)(v,2),O=g[0],E=g[1],P=(0,u.useState)([]),j=(0,c.c)(P,2),w=j[0],k=j[1],C=(0,u.useState)(0),S=(0,c.c)(C,2),D=S[0],x=S[1],R=(0,u.useState)(null),F=(0,c.c)(R,2),N=F[0],T=F[1],z=(0,u.useState)(0),G=(0,c.c)(z,2),Y=G[0],I=G[1],K=(0,u.useState)(null),q=(0,c.c)(K,2),B=q[0],H=q[1],M=(0,u.useState)(""),Q=(0,c.c)(M,2),X=Q[0],A=Q[1],L=(0,u.useState)(!0),U=(0,c.c)(L,2),V=U[0],W=U[1],J=(0,u.useState)(Object.keys(t).length?t:{sort:"-pulp_created"}),Z=(0,c.c)(J,2),$=Z[0],ee=Z[1],te=function(t){(0,_.k)({forceReload:t,matchParams:e.routeParams,navigate:e.navigate,setCollection:function(e,t,n,a,r){y(r),E(t),k(e),x(a),T(n),ne(t.repository.pulp_href)},stateParams:$})},ne=function(){var e=(0,r.c)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,m.y4.list(h({repository:t},b.us.getReduced($,["version"])));case 3:n=e.sent,H(n.data.results),I(n.data.count),W(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if((0,u.useEffect)((function(){te(!1)}),[]),(0,u.useEffect)((function(){te(!1)}),[$]),!O||!N||w.length<=0)return p().createElement(f.Qz,null);var ae=O.collection_version,re=O.repository,ce=[(0,d.WC)(),{url:(0,d.oD)(d.uk.namespaceDetail,{namespace:ae.namespace}),name:ae.namespace},{url:(0,d.oD)(d.uk.collectionByRepo,{namespace:ae.namespace,collection:ae.name,repo:re.name}),name:ae.name},{name:i._s._({id:"7sa1l4"})}],oe=function(t){e.navigate({search:"?"+b.us.getQueryString(t||[])}),ee(t)};return p().createElement(p().Fragment,null,p().createElement(f.Ko,{activeTab:"distributions",actuallyCollection:o,breadcrumbs:ce,collection:O,collections:w,collectionsCount:D,content:N,params:$,reload:function(){return te(!0)},updateParams:function(e){oe(b.us.setParam(e,"version",e.version))}}),p().createElement(f.GK,null,p().createElement("section",{className:"body"},p().createElement("div",{className:"hub-toolbar"},p().createElement(s.Toolbar,null,p().createElement(s.ToolbarGroup,null,p().createElement(s.ToolbarItem,null,p().createElement(f.oh,{inputText:X,onChange:function(e){A(e)},updateParams:function(e){oe(e)},params:$,filterConfig:[{id:"name__icontains",title:i._s._({id:"6YtxFj"})},{id:"base_path__icontains",title:i._s._({id:"cN8jw8"})}]})))),p().createElement(f.eM,{params:$,updateParams:function(e){oe(e)},count:Y,isTop:!0})),p().createElement(f.IP,{updateParams:function(e){oe(e),A("")},params:$,ignoredParams:["page_size","page","sort","version"],niceNames:{base_path__icontains:i._s._({id:"cN8jw8"}),name__icontains:i._s._({id:"6YtxFj"})}}),V?p().createElement(f.cI,null):function(e,t){if(0===e.length)return(0,b.o5)(t,["name__icontains","base_path__icontains"])?p().createElement(f.YX,null):p().createElement(f.BL,{title:i._s._({id:"OsUTs2"}),description:i._s._({id:"hF8qfX"})});var n={headers:[{title:i._s._({id:"6YtxFj"}),type:"alpha",id:"name"},{title:i._s._({id:"cN8jw8"}),type:"alpha",id:"base_path"},{title:i._s._({id:"d+F6q9"}),type:"alpha",id:"pulp_created"},{title:i._s._({id:"nGGu/j"}),type:"none",id:""}]};return p().createElement("table",{"aria-label":i._s._({id:"yi8ppy"}),className:"hub-c-table-content pf-c-table"},p().createElement(f.K_,{options:n,params:t,updateParams:function(e){oe(e)}}),p().createElement("tbody",null,e.map((function(e,t){return p().createElement("tr",{key:t},p().createElement("td",null,e.name),p().createElement("td",null,e.base_path),p().createElement("td",null,p().createElement(f.i4,{date:e.pulp_created})),p().createElement("td",null,p().createElement(f.cl,{isCode:!0,isReadOnly:!0,variant:"expansion",key:t},function(e){return["[galaxy]","server_list = ".concat(e.base_path),"","[galaxy_server.".concat(e.base_path,"]"),"url=".concat((0,b.uo)(e.base_path)),"token=<put your token here>"].join("\n")}(e))))}))))}(B,$),p().createElement(f.eM,{params:$,updateParams:function(e){oe(e)},count:Y}))))}))}}]);
//# sourceMappingURL=../sourcemaps/1404.d6eb381f201d4d6cdd2faaff9b2d854c.js.map