(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{756:function(e,t,o){(e.exports=o(8)(!1)).push([e.i,".search-page{height:100%;display:flex;flex-direction:column;justify-content:space-between}.search-page .toolbar-wrapper .toolbar{display:flex;justify-content:space-between;align-items:center}.search-page .toolbar-wrapper .toolbar .pagination-container{display:flex;align-items:center}.search-page .toolbar-wrapper .toolbar .pagination-container .card-list-switcher{margin-right:24px}.search-page .header{border-bottom:1px solid #d8d8d8}.search-page .collection-container{padding-top:24px;flex-grow:1}.search-page .collection-container .cards{display:flex;flex-wrap:wrap;align-content:flex-start}.search-page .collection-container .cards .card{margin-left:24px;margin-bottom:24px}.search-page .collection-container .list-container{width:100%}.search-page .collection-container .list{margin-bottom:24px;margin-left:24px;margin-right:24px;padding-top:16px;padding-bottom:16px;overflow:hidden}.search-page .collection-container .list .data-list{margin-top:-17px;margin-bottom:-17px}.search-page .collection-container .empty{flex-grow:1}.search-page .footer{border-top:1px solid #d8d8d8;flex-shrink:0}\n",""])},757:function(e,t,o){(e.exports=o(8)(!1)).push([e.i,'.pf-c-switch{--pf-c-switch--FontSize: var(--pf-global--FontSize--md);--pf-c-switch__toggle-icon--FontSize: calc(var(--pf-c-switch--FontSize) * .625);--pf-c-switch__toggle-icon--Color: var(--pf-global--Color--light-100);--pf-c-switch__toggle-icon--Left: calc(var(--pf-c-switch--FontSize) * .4);--pf-c-switch__toggle-icon--Offset: 0.125rem;--pf-c-switch--LineHeight: var(--pf-global--LineHeight--md);--pf-c-switch--Height: calc(var(--pf-c-switch--FontSize) * var(--pf-c-switch--LineHeight));--pf-c-switch__input--checked__toggle--BackgroundColor: var(--pf-global--primary-color--100);--pf-c-switch__input--checked__toggle--before--TranslateX: calc(100% + var(--pf-c-switch__toggle-icon--Offset));--pf-c-switch__input--checked__label--Color: var(--pf-global--Color--dark-100);--pf-c-switch__input--not-checked__label--Color: var(--pf-global--disabled-color--100);--pf-c-switch__input--disabled__label--Color: var(--pf-global--disabled-color--100);--pf-c-switch__input--disabled__toggle--BackgroundColor: var(--pf-global--Color--dark-200);--pf-c-switch__input--disabled__toggle--before--BackgroundColor: var(--pf-global--disabled-color--200);--pf-c-switch__input--focus__toggle--OutlineWidth: var(--pf-global--BorderWidth--md);--pf-c-switch__input--focus__toggle--OutlineOffset: var(--pf-global--spacer--sm);--pf-c-switch__input--focus__toggle--OutlineColor: var(--pf-global--primary-color--100);--pf-c-switch__toggle--Height: calc(var(--pf-c-switch--FontSize) * var(--pf-c-switch--LineHeight));--pf-c-switch__toggle--BackgroundColor: var(--pf-global--disabled-color--200);--pf-c-switch__toggle--BorderRadius: var(--pf-c-switch--Height);--pf-c-switch__toggle--before--Width: calc(var(--pf-c-switch--FontSize) - var(--pf-c-switch__toggle-icon--Offset));--pf-c-switch__toggle--before--Height: var(--pf-c-switch__toggle--before--Width);--pf-c-switch__toggle--before--Top: calc((var(--pf-c-switch--Height) - var(--pf-c-switch__toggle--before--Height)) / 2);--pf-c-switch__toggle--before--Left: var(--pf-c-switch__toggle--before--Top);--pf-c-switch__toggle--before--BackgroundColor: var(--pf-global--BackgroundColor--100);--pf-c-switch__toggle--before--BorderRadius: var(--pf-global--BorderRadius--lg);--pf-c-switch__toggle--before--BoxShadow: var(--pf-global--BoxShadow--md);--pf-c-switch__toggle--before--Transition: transform .25s ease 0s;--pf-c-switch__toggle--Width: calc(var(--pf-c-switch--Height) + var(--pf-c-switch__toggle-icon--Offset) + var(--pf-c-switch__toggle--before--Width));--pf-c-switch__label--PaddingLeft: var(--pf-global--spacer--md);--pf-c-switch__label--Color: var(--pf-global--Color--dark-100);position:relative;display:inline-block;height:var(--pf-c-switch--Height);font-size:var(--pf-c-switch--FontSize);line-height:var(--pf-c-switch--LineHeight);vertical-align:middle;cursor:pointer}.pf-c-switch__input{position:absolute;cursor:pointer;opacity:0}.pf-c-switch__input:focus ~ .pf-c-switch__toggle{outline:var(--pf-c-switch__input--focus__toggle--OutlineWidth) solid var(--pf-c-switch__input--focus__toggle--OutlineColor);outline-offset:var(--pf-c-switch__input--focus__toggle--OutlineOffset)}.pf-c-switch__input:checked ~ .pf-c-switch__label{color:var(--pf-c-switch__input--checked__label--Color)}.pf-c-switch__input:checked ~ .pf-c-switch__toggle{background-color:var(--pf-c-switch__input--checked__toggle--BackgroundColor)}.pf-c-switch__input:checked ~ .pf-c-switch__toggle::before{transform:translateX(var(--pf-c-switch__input--checked__toggle--before--TranslateX))}.pf-c-switch__input:checked ~ .pf-m-off{display:none}.pf-c-switch__input:not(:checked) ~ .pf-c-switch__label{color:var(--pf-c-switch__input--not-checked__label--Color)}.pf-c-switch__input:not(:checked) ~ .pf-c-switch__toggle .pf-c-switch__toggle-icon{display:none;visibility:hidden}.pf-c-switch__input:not(:checked) ~ .pf-m-on{display:none}.pf-c-switch__input:disabled{cursor:not-allowed}.pf-c-switch__input:disabled ~ .pf-c-switch__label{color:var(--pf-c-switch__input--disabled__label--Color);cursor:not-allowed}.pf-c-switch__input:disabled ~ .pf-c-switch__toggle{cursor:not-allowed;background-color:var(--pf-c-switch__input--disabled__toggle--BackgroundColor)}.pf-c-switch__input:disabled ~ .pf-c-switch__toggle::before{background-color:var(--pf-c-switch__input--disabled__toggle--before--BackgroundColor)}.pf-c-switch__toggle{position:relative;display:inline-block;width:var(--pf-c-switch__toggle--Width);height:var(--pf-c-switch__toggle--Height);background-color:var(--pf-c-switch__toggle--BackgroundColor);border-radius:var(--pf-c-switch__toggle--BorderRadius)}.pf-c-switch__toggle::before{position:absolute;top:var(--pf-c-switch__toggle--before--Top);left:var(--pf-c-switch__toggle--before--Left);display:block;width:var(--pf-c-switch__toggle--before--Width);height:var(--pf-c-switch__toggle--before--Height);content:"";background-color:var(--pf-c-switch__toggle--before--BackgroundColor);border-radius:var(--pf-c-switch__toggle--before--BorderRadius);box-shadow:var(--pf-c-switch__toggle--before--BoxShadow);transition:var(--pf-c-switch__toggle--before--Transition)}.pf-c-switch__toggle-icon{position:absolute;top:0;bottom:0;left:var(--pf-c-switch__toggle-icon--Left);display:flex;align-items:center;font-size:var(--pf-c-switch__toggle-icon--FontSize);color:var(--pf-c-switch__toggle-icon--Color)}.pf-c-switch__label{display:inline-block;padding-left:var(--pf-c-switch__label--PaddingLeft);color:var(--pf-c-switch__label--Color);vertical-align:top}\n',""])},770:function(e,t,o){var c=o(756);"string"==typeof c&&(c=[[e.i,c,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},i=o(10)(c,a);c.locals&&(e.exports=c.locals),e.hot.accept(756,(function(){var t=o(756);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var o,c=0;for(o in e){if(!t||e[o]!==t[o])return!1;c++}for(o in t)c--;return 0===c}(c.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},771:function(e,t,o){"use strict";t.__esModule=!0,o(772),t.default={modifiers:{off:"pf-m-off",on:"pf-m-on"},switch:"pf-c-switch",switchInput:"pf-c-switch__input",switchLabel:"pf-c-switch__label",switchToggle:"pf-c-switch__toggle",switchToggleIcon:"pf-c-switch__toggle-icon"}},772:function(e,t,o){var c=o(757);"string"==typeof c&&(c=[[e.i,c,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},i=o(10)(c,a);c.locals&&(e.exports=c.locals),e.hot.accept(757,(function(){var t=o(757);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var o,c=0;for(o in e){if(!t||e[o]!==t[o])return!1;c++}for(o in t)c--;return 0===c}(c.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)})),e.hot.dispose((function(){i()}))},787:function(e,t,o){"use strict";o.r(t);var c=o(0),a=(o(770),o(393)),i=o(41),r=o(745),n=o(747),l=o(82),s=o(102),p=o(692),f=o(693),d=o(689),g=o(695),h=o(132),_=o(2),u=o(771),m=o.n(u),w=o(1),b=o(58),v=o.n(b),y=o(13),C=o(83);class E extends c.Component{constructor(e){super(e),e.id||e["aria-label"]||console.error("Switch: Switch requires either an id or aria-label to be specified"),this.id=e.id||Object(y.f)()}render(){const e=this.props,{id:t,className:o,label:a,labelOff:i,isChecked:r,isDisabled:n,onChange:l,ouiaId:s,ouiaSafe:p}=e,f=Object(_.__rest)(e,["id","className","label","labelOff","isChecked","isDisabled","onChange","ouiaId","ouiaSafe"]),d=""===f["aria-label"];return c.createElement("label",Object.assign({className:Object(w.css)(m.a.switch,o),htmlFor:this.id},Object(C.a)(E.displayName,s,p)),c.createElement("input",Object.assign({id:this.id,className:Object(w.css)(m.a.switchInput),type:"checkbox",onChange:e=>l(e.target.checked,e),checked:r,disabled:n,"aria-labelledby":d?this.id+"-on":null},f)),void 0!==a?c.createElement(c.Fragment,null,c.createElement("span",{className:Object(w.css)(m.a.switchToggle)}),c.createElement("span",{className:Object(w.css)(m.a.switchLabel,m.a.modifiers.on),id:d?this.id+"-on":null,"aria-hidden":"true"},a),c.createElement("span",{className:Object(w.css)(m.a.switchLabel,m.a.modifiers.off),id:d?this.id+"-off":null,"aria-hidden":"true"},void 0!==i?i:a)):c.createElement("span",{className:Object(w.css)(m.a.switchToggle)},c.createElement("div",{className:Object(w.css)(m.a.switchToggleIcon),"aria-hidden":"true"},c.createElement(v.a,{noVerticalAlign:!0}))))}}E.displayName="Switch",E.defaultProps={isChecked:!0,isDisabled:!1,"aria-label":"",onChange:()=>{}};var S,O=o(410),k=o(694),x=o(217),N=o(42),T=o(15),P=o(35),L=(S=function(e,t){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}S(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),I=function(){return(I=Object.assign||function(e){for(var t,o=1,c=arguments.length;o<c;o++)for(var a in t=arguments[o])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},R=function(e){function t(t){var o=e.call(this,t)||this,c=T.a.parseParamString(t.location.search,["page","page_size"]);return c.page_size||(c.page_size=P.a.CARD_DEFAULT_PAGE_SIZE),c.view_type||(c.view_type=localStorage.getItem(P.a.SEARCH_VIEW_TYPE_LOCAL_KEY)),o.state={collections:[],params:c,numberOfResults:0,loading:!0,synclist:void 0},o}return L(t,e),t.prototype.componentDidMount=function(){this.queryCollections(),"insights"===P.a.INSIGHTS_DEPLOYMENT_MODE&&this.getSynclist()},t.prototype.render=function(){var e=this,t=this.state,o=t.collections,a=t.params,p=t.numberOfResults;return c.createElement("div",{className:"search-page"},c.createElement(x.d,{className:"header",title:"Collections"},c.createElement("div",{className:"toolbar-wrapper"},c.createElement("div",{className:"toolbar"},c.createElement(r.a,null,c.createElement(n.a,null,c.createElement(l.a,null,c.createElement(s.a,null,c.createElement(x.m,{updateParams:function(t){return e.updateParams(t,(function(){return e.queryCollections()}))},params:a,filterConfig:[{id:"keywords",title:"Keywords"},{id:"tags",title:"Tag",inputType:"multiple",options:["cloud","linux","networking","storage","security","windows","infrastructure","monitoring","tools","database","application"].map((function(e){return{id:e,title:e}}))}]}),c.createElement(s.a,null,c.createElement(x.c,{style:{marginTop:"16px"},updateParams:function(t){return e.updateParams(t,(function(){return e.queryCollections()}))},params:a,ignoredParams:["page_size","page","sort","view_type"]})))))),c.createElement("div",{className:"pagination-container"},c.createElement("div",{className:"card-list-switcher"},c.createElement(x.f,{size:"sm",params:a,updateParams:function(t){return e.updateParams(t,(function(){return localStorage.setItem(P.a.SEARCH_VIEW_TYPE_LOCAL_KEY,e.state.params.view_type)}))}})),c.createElement(x.y,{params:a,updateParams:function(t){return e.updateParams(t,(function(){return e.queryCollections()}))},count:p,perPageOptions:P.a.CARD_DEFAULT_PAGINATION_OPTIONS,isTop:!0}))))),c.createElement(i.Section,{className:"collection-container"},this.renderCollections(o,a)),c.createElement(i.Section,{className:"footer"},c.createElement(x.y,{params:a,updateParams:function(t){return e.updateParams(t,(function(){return e.queryCollections()}))},perPageOptions:P.a.CARD_DEFAULT_PAGINATION_OPTIONS,count:p})))},t.prototype.renderCollections=function(e,t){return this.state.loading?c.createElement(x.q,null):0===e.length?this.renderEmpty():"list"===t.view_type?this.renderList(e):this.renderCards(e)},t.prototype.renderEmpty=function(){var e=this;return c.createElement(p.a,{className:"empty",variant:p.b.full},c.createElement(f.a,{icon:k.a}),c.createElement(d.a,{headingLevel:"h2",size:"lg"},"No results found"),c.createElement(g.a,null,"No results match the search criteria. Remove all filters to show results."),c.createElement(h.a,{variant:"link",onClick:function(){return e.updateParams({},(function(){return e.queryCollections()}))}},"Clear search"))},t.prototype.renderCards=function(e){var t=this;return c.createElement("div",{className:"cards"},e.map((function(e){return c.createElement(x.g,I({className:"card",key:e.id},e,{footer:t.renderSyncToggle(e.name,e.namespace.name)}))})))},t.prototype.renderSyncToggle=function(e,t){var o=this;return this.state.synclist?c.createElement(E,{id:t+"."+e,className:"sync-toggle",label:"Sync",isChecked:this.isCollectionSynced(e,t),onChange:function(){return o.toggleCollectionSync(e,t)}}):null},t.prototype.toggleCollectionSync=function(e,t){var o=this,c=I({},this.state.synclist),a=c.collections.findIndex((function(o){return o.name===e&&o.namespace===t}));a<0?c.collections.push({name:e,namespace:t}):c.collections.splice(a,1),N.g.update(c.id,c).then((function(e){o.setState({synclist:e.data})}))},t.prototype.isCollectionSynced=function(e,t){var o=this.state.synclist,c=o.collections.find((function(o){return o.name===e&&o.namespace===t}));return"allowlist"===o.policy?!(void 0===c):void 0===c},t.prototype.renderList=function(e){var t=this;return c.createElement("div",{className:"list-container"},c.createElement("div",{className:"list"},c.createElement(O.a,{className:"data-list","aria-label":"List of Collections"},e.map((function(e){return c.createElement(x.l,I({showNamespace:!0,key:e.id},e,{controls:t.renderSyncToggle(e.name,e.namespace.name)}))})))))},t.prototype.getSynclist=function(){var e=this;N.g.list().then((function(t){1===t.data.meta.count?e.setState({synclist:t.data.data[0]}):console.error("my-synclist returned "+t.data.meta.count+" synclists")}))},t.prototype.queryCollections=function(){var e=this;this.setState({loading:!0},(function(){N.c.list(I(I({},T.a.getReduced(e.state.params,["view_type"])),{deprecated:!1,certification:N.b.certified})).then((function(t){e.setState({collections:t.data.data,numberOfResults:t.data.meta.count,loading:!1})}))}))},Object.defineProperty(t.prototype,"updateParams",{get:function(){return T.a.updateParamsMixin()},enumerable:!1,configurable:!0}),t}(c.Component);t.default=Object(a.a)(R);try{search.displayName="search",search.__docgenInfo={description:"",displayName:"search",props:{wrappedComponentRef:{defaultValue:null,description:"",name:"wrappedComponentRef",required:!1,type:{name:"Ref<Search>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/containers/search/search.tsx#search"]={docgenInfo:search.__docgenInfo,name:"search",path:"src/containers/search/search.tsx#search"})}catch(e){}}}]);
//# sourceMappingURL=search.js.map