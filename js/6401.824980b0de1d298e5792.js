"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[6401],{46401:(e,n,r)=>{r.r(n),r.d(n,{default:()=>v});var t=r(44925),o=r(4942),i=r(89555),a=r(92950),s=r.n(a),l=r(844),u=r(1161),c=r(61647),m=r(6640),d=r(52713),f=["name"];function p(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function b(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){(0,o.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var _={name:"",url:"",ca_cert:null,client_cert:null,tls_validation:!0,proxy_url:null,download_concurrency:null,rate_limit:null,requirements_file:null,auth_url:null,signed_only:!1,hidden_fields:["client_key","proxy_username","proxy_password","username","password","token"].map((function(e){return{name:e,is_set:!1}}))};const v=(0,u.T3)({breadcrumbs:function(e){var n=e.name;return[{url:(0,c.dI)(c.nB.ansibleRemotes),name:i.ag._({id:"TiuMpz"})},n&&{url:(0,c.dI)(c.nB.ansibleRemoteDetail,{name:n}),name:n},n?{name:i.ag._({id:"ePK91l"})}:{name:i.ag._({id:"m16xKo"})}].filter(Boolean)},condition:function(e,n){return(0,m.rH)(e)||(0,m.DQ)(e,n)},displayName:"AnsibleRemoteEdit",errorTitle:{id:"cFwIgK"},listUrl:(0,c.dI)(c.nB.ansibleRemotes),query:function(e){var n=e.name;return l.GC.list({name:n}).then((function(e){return e.data.results[0]})).then((function(e){return l.GC.myPermissions((0,d.LL)(e.pulp_href)).then((function(e){return e.data.permissions})).catch((function(e){return console.error(e),[]})).then((function(n){return b(b({},e),{},{my_permissions:n})}))}))},title:function(e){return e.name||i.ag._({id:"YtF5tm"})},transformParams:function(e){var n=e.name;return b(b({},(0,t.Z)(e,f)),{},{name:"_"!==n?n:null})},render:function(e,n){var r=n.navigate,t=n.queueAlert,o=n.state,a=n.setState;if(!o.remoteToEdit){var m=b(b({},_),e);a({remoteToEdit:m,errorMessages:{}})}var f=o.remoteToEdit,p=o.errorMessages;return f?s().createElement(u.bi,{allowEditName:!e,remote:f,updateRemote:function(e){return a({remoteToEdit:e})},remoteType:"ansible-remote",showMain:!0,saveRemote:function(){var n=b({},o.remoteToEdit);e||(Object.keys(n).forEach((function(e){""!==n[e]&&null!=n[e]||delete n[e]})),delete n.hidden_fields),delete n.my_permissions,!n.url||n.url.includes("?")||n.url.endsWith("/")||(n.url+="/"),(e?l.GC.smartUpdate((0,d.LL)(e.pulp_href),n,e):l.GC.create(n)).then((function(o){var s=o.data;a({errorMessages:{},remoteToEdit:void 0}),t(e?(0,d.zT)(s,i.ag._({id:"pkDdw8",values:{0:n.name}})):{variant:"success",title:i.ag._({id:"4FiyjO",values:{0:n.name}})}),r((0,c.dI)(c.nB.ansibleRemoteDetail,{name:n.name}))})).catch((function(e){var n=e.response.data;return a({errorMessages:b({__nofield:n.non_field_errors||n.detail},n)})}))},errorMessages:p,closeModal:function(){a({errorMessages:{},remoteToEdit:void 0}),r(e?(0,c.dI)(c.nB.ansibleRemoteDetail,{name:e.name}):(0,c.dI)(c.nB.ansibleRemotes))}}):null}})},6640:(e,n,r)=>{r.d(n,{DQ:()=>s,MT:()=>l,Wt:()=>_,X0:()=>b,Xn:()=>m,fY:()=>p,lo:()=>d,nm:()=>a,rH:()=>i,vn:()=>f,yA:()=>u,zN:()=>c});var t=function(e){return function(n){var r=n.hasPermission,t=n.user;return r(e)||(null==t?void 0:t.is_superuser)}},o=function(e){return function(n,r){var t=n.hasPermission,o=n.hasObjectPermission,i=n.user;return t(e)||(null==o?void 0:o(e,r))||(null==i?void 0:i.is_superuser)}},i=t("ansible.add_collectionremote"),a=o("ansible.delete_collectionremote"),s=o("ansible.change_collectionremote"),l=o("ansible.view_collectionremote"),u=o("ansible.manage_roles_collectionremote"),c=t("ansible.add_ansiblerepository"),m=o("ansible.delete_ansiblerepository"),d=o("ansible.change_ansiblerepository"),f=d,p=function(e){var n=e.user,r=e.featureFlags;return n&&(null==r?void 0:r.display_repositories)},b=o("ansible.manage_roles_ansiblerepository"),_=d}}]);
//# sourceMappingURL=../sourcemaps/6401.70d5ab3b5b0c2825d9c92cf2b21bcb69.js.map