"use strict";(self.webpackChunkansible_hub_ui=self.webpackChunkansible_hub_ui||[]).push([[987],{9473:(e,t,n)=>{n.d(t,{Y:()=>i});var o=n(4942),r=n(95517),a=n(61647);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){var t=e.forceReload,n=e.matchParams,o=e.navigate,c=e.selectedRepo,i=e.setCollection,s=e.stateParams;r.gu.getCached(n.namespace,n.collection,c,l(l({},s),{},{include_related:"my_permissions"}),t).then((function(e){return r.gu.list({name:n.collection},c).then((function(t){e.deprecated=t.data.data[0].deprecated,i(e)}))})).catch((function(){o((0,a.dI)(a.nB.notFound))}))}},13987:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var o=n(15671),r=n(43144),a=n(79340),c=n(82963),l=n(61120),i=n(13855),s=n(35356),u=n(43047),d=n(69957),m=n(92950),f=n.n(m),p=n(62012),h=function(){return h=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h.apply(this,arguments)},b="",v=null,y=null,g=null;function _(){b="",null!==v&&v.disconnect(),null!==y&&(window.clearTimeout(y),y=null)}function O(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function P(){var e=null;if("#"===b)e=document.body;else{var t=b.replace("#","");null===(e=document.getElementById(t))&&"#top"===b&&(e=document.body)}if(null!==e){g(e);var n=e.getAttribute("tabindex");return null!==n||O(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==n||O(e)||(e.blur(),e.removeAttribute("tabindex")),_(),!0}return!1}function R(e){return f().forwardRef((function(t,n){var o="";"string"==typeof t.to&&t.to.includes("#")?o="#"+t.to.split("#").slice(1).join("#"):"object"==typeof t.to&&"string"==typeof t.to.hash&&(o=t.to.hash);var r={};e===p.NavLink&&(r.isActive=function(e,t){return e&&e.isExact&&t.hash===o});var a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["scroll","smooth","timeout","elementId"]);return f().createElement(e,h({},r,a,{onClick:function(e){var n;_(),b=t.elementId?"#"+t.elementId:o,t.onClick&&t.onClick(e),""===b||e.defaultPrevented||0!==e.button||t.target&&"_self"!==t.target||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(g=t.scroll||function(e){return t.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},n=t.timeout,window.setTimeout((function(){!1===P()&&(null===v&&(v=new MutationObserver(P)),v.observe(document,{attributes:!0,childList:!0,subtree:!0}),y=window.setTimeout((function(){_()}),n||1e4))}),0))},ref:n}),t.children)}))}var k=R(p.Link),E=(R(p.NavLink),n(48706)),w=n(61542),j=n(61647),C=n(93902),N=n(9473);var x=function(e){(0,a.Z)(h,e);var t,n,f=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,l.Z)(t);if(n){var r=(0,l.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function h(e){var t;(0,o.Z)(this,h),t=f.call(this,e);var n=C.q6.parseParamString(e.location.search);return t.state={collection:void 0,params:n},t.docsRef=m.createRef(),t.searchBarRef=m.createRef(),t}return(0,r.Z)(h,[{key:"componentDidMount",value:function(){this.loadCollection(!1)}},{key:"render",value:function(){var e,t,n=this,o=this.state,r=o.params,a=o.collection,c=this.props.routeParams;if(!a)return m.createElement(E.gO,null);var l=c.type||"docs",u=c.name||c.page||null;if("docs"===l&&u){if(a.latest_version.docs_blob.documentation_files){var d=a.latest_version.docs_blob.documentation_files.find((function(e){return(0,C.Vb)(e.name)===c.page}));d&&(e=d.html)}}else if(u){if(a.latest_version.docs_blob.contents){var f=a.latest_version.docs_blob.contents.find((function(e){return e.content_type===l&&e.content_name===u}));f&&("role"===l?e=f.readme_html:t=f)}}else a.latest_version.docs_blob.collection_readme&&(e=a.latest_version.docs_blob.collection_readme.html);var p=[j.Th,{url:(0,j.dI)(j.nB.namespaceByRepo,{namespace:a.namespace.name,repo:this.context.selectedRepo}),name:a.namespace.name},{url:(0,j.dI)(j.nB.collectionByRepo,{namespace:a.namespace.name,collection:a.name,repo:this.context.selectedRepo}),name:a.name},{name:i.ag._("Documentation")}];return m.createElement(m.Fragment,null,m.createElement(E.X8,{reload:function(){return n.loadCollection(!0)},collection:a,params:r,updateParams:function(e){return n.updateParams(e,(function(){return n.loadCollection(!0)}))},breadcrumbs:p,activeTab:"documentation",className:"header",repo:this.context.selectedRepo}),m.createElement(E.or,{className:"main"},m.createElement("section",{className:"docs-container"},m.createElement(E.o5,{className:"sidebar",namespace:a.namespace.name,collection:a.name,docs_blob:a.latest_version.docs_blob,selectedName:u,selectedType:l,params:r,updateParams:function(e){return n.updateParams(e)},searchBarRef:this.searchBarRef}),m.createElement("div",{className:"body docs pf-c-content",ref:this.docsRef},e||t?e?m.createElement("div",{dangerouslySetInnerHTML:{__html:e}}):m.createElement(E.q_,{plugin:t,renderModuleLink:function(e){return n.renderModuleLink(e,a,r,a.latest_version.metadata.contents)},renderDocLink:function(e,t){return n.renderDocLink(e,t,a,r)},renderTableOfContentsLink:function(e,t){return m.createElement(k,{to:"#"+t},e)},renderWarning:function(e){return m.createElement(s.Alert,{isInline:!0,variant:"warning",title:e})}}):"community"!==this.context.selectedRepo||a.latest_version.docs_blob.contents?this.renderNotFound(a.name):this.renderCommunityWarningMessage()))))}},{key:"renderDocLink",value:function(e,t,n,o){return t&&t.startsWith("http")?m.createElement("a",{href:t,target:"_blank",rel:"noreferrer"},e):t?m.createElement(p.Link,{to:(0,j.dI)(j.nB.collectionDocsPageByRepo,{namespace:n.namespace.name,collection:n.name,page:(0,C.Vb)(t),repo:this.context.selectedRepo},o)},e):null}},{key:"renderModuleLink",value:function(e,t,n,o){return o.find((function(t){return"module"===t.content_type&&t.name===e}))?m.createElement(p.Link,{to:(0,j.dI)(j.nB.collectionContentDocsByRepo,{namespace:t.namespace.name,collection:t.name,type:"module",name:e,repo:this.context.selectedRepo},n)},e):e}},{key:"renderNotFound",value:function(e){return m.createElement(E.WU,{title:i.ag._("Not found"),description:i.ag._("The file is not available for this version of {collectionName}",{collectionName:e}),icon:u.$O})}},{key:"renderCommunityWarningMessage",value:function(){return m.createElement(E.WU,{title:i.ag._("Warning"),description:i.ag._("Community collections do not have docs nor content counts, but all content gets synchronized"),icon:d.LP})}},{key:"loadCollection",value:function(e){var t=this;(0,N.Y)({forceReload:e,matchParams:this.props.routeParams,navigate:this.props.navigate,selectedRepo:this.context.selectedRepo,setCollection:function(e){return t.setState({collection:e})},stateParams:this.state.params})}},{key:"updateParams",get:function(){return C.q6.updateParamsMixin()}}]),h}(m.Component);const B=(0,C.EN)(x);x.contextType=w.I}}]);
//# sourceMappingURL=../sourcemaps/987.1ee321cdd543b721c53f8cd0c7c2b460.js.map