"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[675],{6662:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(80296),r=n(64467),c=n(88696),o=n(60165),l=n(39799);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={repository:null,namespace:null,name:null,version:null,actuallyCollection:null,collection:null,collections:[],collectionsCount:0,content:null};function p(e){var t=e.forceReload,n=e.matchParams,r=e.navigate,i=e.setCollection,p=e.stateParams.version,m=n.collection,f=n.namespace,d=n.repo;if(t||s.repository!==d||s.namespace!==f||s.name!==m||s.version!==p){var b=u(u({},d?{repository_name:d}:{}),{},{namespace:f,name:m}),y=(p?c.R4.list(u(u({},b),{},{version:p})):c.R4.list(u(u({},b),{},{is_highest:!0}))).then((function(e){return e.data.data[0]})),h=y.then((function(e){return c.Xy.getContent(f,m,e.collection_version.version)})).then((function(e){return e.data.results[0]})).catch((function(){return r((0,o.jV)(o.Jh.notFound))})),_=c.R4.list(u(u({},b),{},{order_by:"-version",page_size:10})).then((function(e){return e.data})).catch((function(){return{data:[],meta:{count:0}}})),v=(0,l.Jh)(d).then((function(e){return c.Xy.getDetail(e,f,m)})).then((function(e){return e.data}));return Promise.all([_,y,h,v]).then((function(e){var t=(0,a.A)(e,4),n=t[0],r=n.data,c=n.meta.count,o=t[1],l=t[2],u=t[3];i(r,o,l,c,u),s.repository=d,s.namespace=f,s.name=m,s.version=p,s.actuallyCollection=u,s.collection=o,s.collections=r,s.collectionsCount=c,s.content=l}))}i(s.collections,s.collection,s.content,s.collectionsCount,s.actuallyCollection)}},81675:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var a=n(64467),r=n(10467),c=n(80296),o=n(54756),l=n.n(o),i=n(47712),u=n(30769),s=n(64490),p=n(52565),m=n(31554),f=n(97192),d=n(26805),b=n(52068),y=n(44914),h=n.n(y),_=n(88696),v=n(35894),g=n(60165),O=n(39799),j=n(6662);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const w=(0,O.y)((function(e){var t=O.mb.parseParamString(e.location.search),n=(0,y.useState)(null),a=(0,c.A)(n,2),o=a[0],E=a[1],w=(0,y.useState)(null),R=(0,c.A)(w,2),C=R[0],S=R[1],k=(0,y.useState)([]),A=(0,c.A)(k,2),D=A[0],T=A[1],x=(0,y.useState)(0),F=(0,c.A)(x,2),N=F[0],z=F[1],J=(0,y.useState)(null),V=(0,c.A)(J,2),X=V[0],G=V[1],H=(0,y.useState)(0),Y=(0,c.A)(H,2),Z=Y[0],q=Y[1],M=(0,y.useState)(null),U=(0,c.A)(M,2),B=U[0],Q=U[1],W=(0,y.useState)(""),$=(0,c.A)(W,2),I=$[0],K=$[1],L=(0,y.useState)(!0),ee=(0,c.A)(L,2),te=ee[0],ne=ee[1],ae=(0,y.useState)(Object.keys(t).length?t:{sort:"-pulp_created"}),re=(0,c.A)(ae,2),ce=re[0],oe=re[1],le=function(t){(0,j.Z)({forceReload:t,matchParams:e.routeParams,navigate:e.navigate,setCollection:function(e,t,n,a,r){E(r),S(t),T(e),z(a),G(n),ie(t.repository.pulp_href)},stateParams:ce})},ie=function(){var e=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),e.next=3,_.zg.list(P({repository:t},O.mb.getReduced(ce,["version"])));case 3:n=e.sent,Q(n.data.results),q(n.data.count),ne(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if((0,y.useEffect)((function(){le(!1)}),[]),(0,y.useEffect)((function(){le(!1)}),[ce]),!C||!X||D.length<=0)return h().createElement(v.AV,null);var ue=C.collection_version,se=C.repository,pe=[(0,g.nb)(),{url:(0,g.jV)(g.Jh.namespaceDetail,{namespace:ue.namespace}),name:ue.namespace},{url:(0,g.jV)(g.Jh.collectionByRepo,{namespace:ue.namespace,collection:ue.name,repo:se.name}),name:ue.name},{name:i.Ru._({id:"7sa1l4"})}],me=function(t){e.navigate({search:"?"+O.mb.getQueryString(t||[])}),oe(t)};return h().createElement(h().Fragment,null,h().createElement(v.SG,{activeTab:"distributions",actuallyCollection:o,breadcrumbs:pe,collection:C,collections:D,collectionsCount:N,content:X,params:ce,reload:function(){return le(!0)},updateParams:function(e){return me(O.mb.setParam(e,"version",e.version))}}),h().createElement(v.gZ,null,h().createElement("section",{className:"body"},h().createElement("div",{className:"hub-toolbar"},h().createElement(u.M,null,h().createElement(s.$,null,h().createElement(p.T,null,h().createElement(v.Mw,{inputText:I,onChange:function(e){K(e)},updateParams:me,params:ce,filterConfig:[{id:"name__icontains",title:i.Ru._({id:"6YtxFj"})},{id:"base_path__icontains",title:i.Ru._({id:"cN8jw8"})}]})))),h().createElement(v.w1,{params:ce,updateParams:me,count:Z,isTop:!0})),h().createElement(v.lU,{updateParams:function(e){me(e),K("")},params:ce,ignoredParams:["page_size","page","sort","version"],niceNames:{base_path__icontains:i.Ru._({id:"cN8jw8"}),name__icontains:i.Ru._({id:"6YtxFj"})}}),te?h().createElement(v.kt,null):function(e,t){if(0===e.length)return(0,O.l)(t,["name__icontains","base_path__icontains"])?h().createElement(v.br,null):h().createElement(v.a4,{title:i.Ru._({id:"OsUTs2"}),description:i.Ru._({id:"hF8qfX"})});var n={headers:[{title:i.Ru._({id:"6YtxFj"}),type:"alpha",id:"name"},{title:i.Ru._({id:"cN8jw8"}),type:"alpha",id:"base_path"},{title:i.Ru._({id:"d+F6q9"}),type:"alpha",id:"pulp_created"},{title:i.Ru._({id:"nGGu/j"}),type:"none",id:""}]};return h().createElement(m.X,{"aria-label":i.Ru._({id:"yi8ppy"})},h().createElement(v.HW,{options:n,params:t,updateParams:me}),h().createElement(f.N,null,e.map((function(e,t){return h().createElement(d.Tr,{key:t},h().createElement(b.Td,null,e.name),h().createElement(b.Td,null,e.base_path),h().createElement(b.Td,null,h().createElement(v.gz,{date:e.pulp_created})),h().createElement(b.Td,null,h().createElement(v.Ck,{isCode:!0,isReadOnly:!0,variant:"expansion",key:t},function(e){return["[galaxy]","server_list = ".concat(e.base_path),"","[galaxy_server.".concat(e.base_path,"]"),"url=".concat((0,O.k9)(e.base_path)),"token=<put your token here>"].join("\n")}(e))))}))))}(B,ce),h().createElement(v.w1,{params:ce,updateParams:me,count:Z}))))}))}}]);
//# sourceMappingURL=../sourcemaps/675.5b6dfc3fc91cf405272764374786097c.js.map