"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[1675],{6662:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(80296),r=n(64467),o=n(88756),c=n(60165),l=n(75841);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={repository:null,namespace:null,name:null,version:null,actuallyCollection:null,collection:null,collections:[],collectionsCount:0,content:null};function p(e){var t=e.forceReload,n=e.matchParams,r=e.navigate,i=e.setCollection,p=e.stateParams.version,m=n.collection,f=n.namespace,d=n.repo;if(t||s.repository!==d||s.namespace!==f||s.name!==m||s.version!==p){var b=u(u({},d?{repository_name:d}:{}),{},{namespace:f,name:m}),y=(p?o.R4.list(u(u({},b),{},{version:p})):o.R4.list(u(u({},b),{},{is_highest:!0}))).then((function(e){return e.data.data[0]})),h=y.then((function(e){return o.Xy.getContent(f,m,e.collection_version.version)})).then((function(e){return e.data.results[0]})).catch((function(){return r((0,c.jV)(c.Jh.notFound))})),_=o.R4.list(u(u({},b),{},{order_by:"-version",page_size:10})).then((function(e){return e.data})).catch((function(){return{data:[],meta:{count:0}}})),v=(0,l.Jh)(d).then((function(e){return o.Xy.getDetail(e,f,m)})).then((function(e){return e.data}));return Promise.all([_,y,h,v]).then((function(e){var t=(0,a.A)(e,4),n=t[0],r=n.data,o=n.meta.count,c=t[1],l=t[2],u=t[3];i(r,c,l,o,u),s.repository=d,s.namespace=f,s.name=m,s.version=p,s.actuallyCollection=u,s.collection=c,s.collections=r,s.collectionsCount=o,s.content=l}))}i(s.collections,s.collection,s.content,s.collectionsCount,s.actuallyCollection)}},81675:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(64467),r=n(10467),o=n(80296),c=n(54756),l=n.n(c),i=n(47712),u=n(85889),s=n(44914),p=n.n(s),m=n(88756),f=n(90593),d=n(60165),b=n(75841),y=n(6662);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=(0,b.y)((function(e){var t=b.mb.parseParamString(e.location.search),n=(0,s.useState)(null),a=(0,o.A)(n,2),c=a[0],h=a[1],v=(0,s.useState)(null),g=(0,o.A)(v,2),O=g[0],j=g[1],E=(0,s.useState)([]),P=(0,o.A)(E,2),w=P[0],R=P[1],C=(0,s.useState)(0),S=(0,o.A)(C,2),k=S[0],A=S[1],D=(0,s.useState)(null),x=(0,o.A)(D,2),F=x[0],N=x[1],T=(0,s.useState)(0),G=(0,o.A)(T,2),z=G[0],J=G[1],H=(0,s.useState)(null),V=(0,o.A)(H,2),X=V[0],Y=V[1],Z=(0,s.useState)(""),q=(0,o.A)(Z,2),Q=q[0],U=q[1],B=(0,s.useState)(!0),I=(0,o.A)(B,2),M=I[0],W=I[1],K=(0,s.useState)(Object.keys(t).length?t:{sort:"-pulp_created"}),L=(0,o.A)(K,2),$=L[0],ee=L[1],te=function(t){(0,y.Z)({forceReload:t,matchParams:e.routeParams,navigate:e.navigate,setCollection:function(e,t,n,a,r){h(r),j(t),R(e),A(a),N(n),ne(t.repository.pulp_href)},stateParams:$})},ne=function(){var e=(0,r.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,m.zg.list(_({repository:t},b.mb.getReduced($,["version"])));case 3:n=e.sent,Y(n.data.results),J(n.data.count),W(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if((0,s.useEffect)((function(){te(!1)}),[]),(0,s.useEffect)((function(){te(!1)}),[$]),!O||!F||w.length<=0)return p().createElement(f.tG,null);var ae=O.collection_version,re=O.repository,oe=[(0,d.nb)(),{url:(0,d.jV)(d.Jh.namespaceDetail,{namespace:ae.namespace}),name:ae.namespace},{url:(0,d.jV)(d.Jh.collectionByRepo,{namespace:ae.namespace,collection:ae.name,repo:re.name}),name:ae.name},{name:i.Ru._({id:"7sa1l4"})}],ce=function(t){e.navigate({search:"?"+b.mb.getQueryString(t||[])}),ee(t)};return p().createElement(p().Fragment,null,p().createElement(f.SG,{activeTab:"distributions",actuallyCollection:c,breadcrumbs:oe,collection:O,collections:w,collectionsCount:k,content:F,params:$,reload:function(){return te(!0)},updateParams:function(e){ce(b.mb.setParam(e,"version",e.version))}}),p().createElement(f.gZ,null,p().createElement("section",{className:"body"},p().createElement("div",{className:"hub-toolbar"},p().createElement(u.Toolbar,null,p().createElement(u.ToolbarGroup,null,p().createElement(u.ToolbarItem,null,p().createElement(f.Mw,{inputText:Q,onChange:function(e){U(e)},updateParams:function(e){ce(e)},params:$,filterConfig:[{id:"name__icontains",title:i.Ru._({id:"6YtxFj"})},{id:"base_path__icontains",title:i.Ru._({id:"cN8jw8"})}]})))),p().createElement(f.w1,{params:$,updateParams:function(e){ce(e)},count:z,isTop:!0})),p().createElement(f.lU,{updateParams:function(e){ce(e),U("")},params:$,ignoredParams:["page_size","page","sort","version"],niceNames:{base_path__icontains:i.Ru._({id:"cN8jw8"}),name__icontains:i.Ru._({id:"6YtxFj"})}}),M?p().createElement(f.hQ,null):function(e,t){if(0===e.length)return(0,b.l)(t,["name__icontains","base_path__icontains"])?p().createElement(f.br,null):p().createElement(f.a4,{title:i.Ru._({id:"OsUTs2"}),description:i.Ru._({id:"hF8qfX"})});var n={headers:[{title:i.Ru._({id:"6YtxFj"}),type:"alpha",id:"name"},{title:i.Ru._({id:"cN8jw8"}),type:"alpha",id:"base_path"},{title:i.Ru._({id:"d+F6q9"}),type:"alpha",id:"pulp_created"},{title:i.Ru._({id:"nGGu/j"}),type:"none",id:""}]};return p().createElement("table",{"aria-label":i.Ru._({id:"yi8ppy"}),className:"hub-c-table-content pf-c-table"},p().createElement(f.HW,{options:n,params:t,updateParams:function(e){ce(e)}}),p().createElement("tbody",null,e.map((function(e,t){return p().createElement("tr",{key:t},p().createElement("td",null,e.name),p().createElement("td",null,e.base_path),p().createElement("td",null,p().createElement(f.gz,{date:e.pulp_created})),p().createElement("td",null,p().createElement(f.Ck,{isCode:!0,isReadOnly:!0,variant:"expansion",key:t},function(e){return["[galaxy]","server_list = ".concat(e.base_path),"","[galaxy_server.".concat(e.base_path,"]"),"url=".concat((0,b.k9)(e.base_path)),"token=<put your token here>"].join("\n")}(e))))}))))}(X,$),p().createElement(f.w1,{params:$,updateParams:function(e){ce(e)},count:z}))))}))}}]);
//# sourceMappingURL=../sourcemaps/1675.5a77f05185c6395a8f8cb67a9e4eab9f.js.map