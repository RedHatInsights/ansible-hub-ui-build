"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[34],{52013:(e,t,a)=>{a.d(t,{A:()=>P});var n=a(45458),r=a(23029),s=a(92901),i=a(50388),o=a(53954),c=a(15361),l=a(64467),u=a(47712),p=a(72583),m=a(44914),d=a.n(m),f=a(78765),h=a(88696),g=a(35894),v=a(97899),y=a(60165),b=a(39799);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t=(0,o.A)(t),(0,i.A)(e,A()?Reflect.construct(t,a||[],(0,o.A)(e).constructor):t.apply(e,a))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}var P=function(e){function t(e){var a;(0,r.A)(this,t),a=k(this,t,[e]),(0,l.A)(a,"handleModalToggle",(function(){a.setState((function(e){return{isModalOpen:!e.isModalOpen}}))}));var n=b.mb.parseParamString(e.location.search,["page","page_size"]);return n.page_size||(n.page_size=20),n.sort||(n.sort="name"),a.state={alerts:[],namespaces:void 0,itemCount:0,params:n,hasPermission:!0,isModalOpen:!1,loading:!0},a}return(0,c.A)(t,e),(0,s.A)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({alerts:this.context.alerts||[]}),this.context.setAlerts([]),this.props.filterOwner?h.U.list({}).then((function(t){0!==t.data.meta.count?e.loadNamespaces():e.setState({hasPermission:!1,namespaces:[],loading:!1})})).catch((function(t){var a=t.response,n=a.status,r=a.statusText;e.setState({namespaces:[],itemCount:0,loading:!1},(function(){return e.addAlert({variant:"danger",title:u.Ru._({id:"Y/Po2Y"}),description:(0,b.gJ)(n,r)})}))})):this.loadNamespaces()}},{key:"render",value:function(){var e=this;if(this.state.redirect)return d().createElement(f.Navigate,{to:this.state.redirect});var t=this.state,a=t.alerts,n=t.namespaces,r=t.params,s=t.itemCount,i=t.loading,o=this.props.filterOwner,c=this.context.hasPermission,l=!(0,b.l)(this.state.params,["keywords"])&&void 0!==n&&0===n.length;if(i)return d().createElement(g.AV,null);var m=function(t){return e.updateParams(t,(function(){return e.loadNamespaces()}))},h=[{id:"keywords",title:u.Ru._({id:"YBz5dV"})}],v=[{title:u.Ru._({id:"6YtxFj"}),id:"name",type:"alpha"}],O=[c("galaxy.add_namespace")?d().createElement(p.$n,{variant:"primary",onClick:this.handleModalToggle},u.Ru._({id:"hYgDIe"})):null],E=[{title:u.Ru._({id:"N40H+G"}),link:(0,y.jV)(y.Jh.namespaces),active:!o},{title:u.Ru._({id:"SpDhjz"}),link:(0,y.jV)(y.Jh.myNamespaces),active:o}];return d().createElement("div",{className:"hub-namespace-page"},d().createElement(g.Dn,{isOpen:this.state.isModalOpen,toggleModal:this.handleModalToggle,onCreateSuccess:function(t){return e.setState({redirect:(0,y.jV)(y.Jh.namespaceDetail,{namespace:t.name},{tab:"collections"})})}}),d().createElement(g.NS,{alerts:a,closeAlert:function(t){return(0,g.R$)(t,{alerts:a,setAlerts:function(t){return e.setState({alerts:t})}})}}),d().createElement(g.T$,{title:u.Ru._({id:"mPkInZ"})},!this.context.user.is_anonymous&&d().createElement("div",{className:"hub-tab-link-container"},d().createElement("div",{className:"tabs"},d().createElement(g.XN,{tabs:E})))),l?null:d().createElement(g.Rx,{buttons:O,count:s,filterConfig:h,ignoredParams:["page","page_size","sort"],params:r,sortOptions:v,updateParams:m}),d().createElement("section",{className:"card-area"},this.renderBody({updateParams:m})),l||i?null:d().createElement("section",{className:"footer"},d().createElement(g.w1,{params:r,updateParams:m,count:s})))}},{key:"renderBody",value:function(e){var t,a=this,n=e.updateParams,r=this.state,s=r.itemCount,i=r.loading,o=r.namespaces,c=r.params,l=this.props.filterOwner,m=this.context.hasPermission,f=u.Ru._({id:"8f0GxI"}),h=l?u.Ru._({id:"jf9wpJ"}):u.Ru._({id:"NIcGqz"}),v=m("galaxy.add_namespace")?d().createElement(p.$n,{variant:"primary",onClick:function(){return a.handleModalToggle()}},u.Ru._({id:"hYgDIe"})):null;return i?d().createElement("section",null,d().createElement(g.kt,null),";"):0===o.length?d().createElement("section",null,(0,b.l)(this.state.params,["keywords"])?d().createElement(g.br,null):d().createElement(g.a4,{title:f,description:h,button:v})):d().createElement("section",{className:"hub-card-layout"},o.map((function(e,t){return d().createElement("div",{key:t,className:"card-wrapper"},d().createElement(g.id,{showDetailLink:!0,key:t,namespace:e}))})),s>c.page_size*(null!==(t=c.page)&&void 0!==t?t:1)?d().createElement("div",{className:"card-wrapper"},d().createElement(g.sr,{onClick:function(){var e;return n(E(E({},c),{},{page:(null!==(e=c.page)&&void 0!==e?e:1)+1}))}})):null)}},{key:"loadNamespaces",value:function(){var e=this,t=this.props.filterOwner?h.U:h.GG;this.setState({loading:!0},(function(){t.list(e.state.params).then((function(t){e.setState({namespaces:t.data.data,itemCount:t.data.meta.count,loading:!1})})).catch((function(t){var a=t.response,n=a.status,r=a.statusText;e.setState({namespaces:[],itemCount:0,loading:!1},(function(){return e.addAlert({variant:"danger",title:u.Ru._({id:"Y/Po2Y"}),description:(0,b.gJ)(n,r)})}))}))}))}},{key:"updateParams",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;b.mb.updateParams({params:e,ignoreParams:["tenant"],navigate:function(e){return t.props.navigate(e)},setState:function(e){return t.setState(e,a)}})}},{key:"addAlert",value:function(e){this.setState({alerts:[].concat((0,n.A)(this.state.alerts),[e])})}}])}(m.Component);(0,l.A)(P,"contextType",v.B)},74034:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(23029),r=a(92901),s=a(50388),i=a(53954),o=a(15361),c=a(44914),l=a.n(c),u=a(39799),p=a(52013);function m(e,t,a){return t=(0,i.A)(t),(0,s.A)(e,d()?Reflect.construct(t,a||[],(0,i.A)(e).constructor):t.apply(e,a))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}var f=function(e){function t(){return(0,n.A)(this,t),m(this,t,arguments)}return(0,o.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){return l().createElement(p.A,this.props)}}])}(c.Component);const h=(0,u.y)(f)}}]);
//# sourceMappingURL=../sourcemaps/34.1f3038a22effc7d92187b1d4b24b07bb.js.map