"use strict";(self.webpackChunkansible_hub_ui=self.webpackChunkansible_hub_ui||[]).push([[684],{22366:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(87462),r=a(15671),s=a(43144),c=a(60136),o=a(6215),l=a(61120),i=a(67294),u=a(5977),p=a(98314),m=a(61647);var f=function(e){(0,c.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(){return(0,r.Z)(this,f),u.apply(this,arguments)}return(0,s.Z)(f,[{key:"render",value:function(){return i.createElement(p.T,(0,n.Z)({},this.props,{namespacePath:m.nB.myCollectionsByRepo,filterOwner:!0}))}}]),f}(i.Component);const d=(0,u.EN)(f)},98314:(e,t,a)=>{a.d(t,{T:()=>N});var n=a(87462),r=a(15671),s=a(43144),c=a(97326),o=a(60136),l=a(6215),i=a(61120),u=a(4942),p=a(67294),m=a(54213),f=a(43819),d=a(98818),h=a(1595),v=a(47173),y=a(38045),E=a(61647),Z=a(42807),g=a(61542),P=a(6568);var N=function(e){(0,o.Z)(N,e);var t,a,g=(t=N,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,i.Z)(t);if(a){var r=(0,i.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function N(e){var t;(0,r.Z)(this,N),t=g.call(this,e),(0,u.Z)((0,c.Z)(t),"nonURLParams",["tenant"]),(0,u.Z)((0,c.Z)(t),"handleModalToggle",(function(){t.setState((function(e){return{isModalOpen:!e.isModalOpen}}))}));var a=f.q.parseParamString(e.location.search,["page","page_size"]);return a.page_size||(a.page_size=24),a.sort||(a.sort="name"),t.state={namespaces:void 0,itemCount:0,params:a,hasPermission:!0,isModalOpen:!1,loading:!0},t}return(0,s.Z)(N,[{key:"componentDidMount",value:function(){var e=this;this.props.filterOwner?y.V$.list({}).then((function(t){0!==t.data.meta.count?e.loadNamespaces():e.setState({hasPermission:!1,namespaces:[],loading:!1})})):this.loadNamespaces()}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.namespaces,r=a.params,s=a.itemCount,c=this.props.filterOwner,o=this.context.user,l=!(0,P.vS)(this.state.params,["keywords"])&&void 0!==n&&0===n.length;if(!n)return p.createElement(d.gO,null);var i=[];null!=o&&null!==(e=o.model_permissions)&&void 0!==e&&e.add_namespace&&i.push(p.createElement(h.E,{key:"create-button"},p.createElement(v.zx,{variant:"primary",onClick:this.handleModalToggle},"Create")));var u=E.Th.name,f=c?"Search my namespaces":"Search all "+u.toLowerCase();return p.createElement("div",{className:"namespace-page"},p.createElement(d.RZ,{isOpen:this.state.isModalOpen,toggleModal:this.handleModalToggle,onCreateSuccess:function(e){return t.props.history.push((0,E.dI)(E.nB.myCollections,{namespace:e.name}))}}),p.createElement(d.UP,{title:u},p.createElement("div",{className:"tab-link-container"},p.createElement("div",{className:"tabs"},p.createElement(d.Ak,{tabs:[{title:"All",link:E.nB.partners,active:!c},{title:"My namespaces",link:E.nB.myNamespaces,active:c}]}))),l?null:p.createElement("div",{className:"toolbar"},p.createElement(d.o8,{params:r,sortOptions:[{title:"Name",id:"name",type:"alpha"}],searchPlaceholder:f,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},extraInputs:i}),p.createElement("div",null,p.createElement(d.tl,{params:r,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},count:s,isCompact:!0,perPageOptions:Z.g.CARD_DEFAULT_PAGINATION_OPTIONS})))),p.createElement(m.Z,{className:"card-area"},this.renderBody()),l?null:p.createElement(m.Z,{className:"footer"},p.createElement(d.tl,{params:r,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},perPageOptions:Z.g.CARD_DEFAULT_PAGINATION_OPTIONS,count:s})))}},{key:"renderBody",value:function(){var e,t=this,a=this.state,r=a.namespaces,s=a.loading,c=this.props,o=c.namespacePath,l=c.filterOwner,i=this.context.user,u=l?"This account is not set up to manage any namespaces":"Namespaces will appear once created",f=null!=i&&null!==(e=i.model_permissions)&&void 0!==e&&e.add_namespace?p.createElement(v.zx,{variant:"primary",onClick:function(){return t.handleModalToggle()}},"Create"):null;return s?p.createElement(m.Z,null,p.createElement(d.AW,null),";"):0===r.length?p.createElement(m.Z,null,(0,P.vS)(this.state.params,["keywords"])?p.createElement(d.ei,null):p.createElement(d.vv,{title:"No namespaces yet",description:u,button:f})):p.createElement(m.Z,{className:"card-layout"},r.map((function(e,a){return p.createElement("div",{key:a,className:"card-wrapper"},p.createElement(d._v,(0,n.Z)({namespaceURL:(0,E.dI)(o,{namespace:e.name,repo:t.context.selectedRepo}),key:a},e)))})))}},{key:"loadNamespaces",value:function(){var e,t=this;e=this.props.filterOwner?function(e){return y.V$.list(e)}:function(e){return y.jZ.list(e)},this.setState({loading:!0},(function(){e(t.state.params).then((function(e){t.setState({namespaces:e.data.data,itemCount:e.data.meta.count,loading:!1})}))}))}},{key:"updateParams",get:function(){return f.q.updateParamsMixin(this.nonURLParams)}}]),N}(p.Component);N.contextType=g.I},42613:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(87462),r=a(15671),s=a(43144),c=a(60136),o=a(6215),l=a(61120),i=a(67294),u=a(5977),p=a(98314),m=a(61647);var f=function(e){(0,c.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(){return(0,r.Z)(this,f),u.apply(this,arguments)}return(0,s.Z)(f,[{key:"render",value:function(){return i.createElement(p.T,(0,n.Z)({},this.props,{namespacePath:m.nB.namespaceByRepo,filterOwner:!1}))}}]),f}(i.Component);const d=(0,u.EN)(f)}}]);
//# sourceMappingURL=../sourcemaps/namespace_list.bae87b8787466e467899.js.map