"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[1056],{41056:(e,r,n)=>{n.r(r),n.d(r,{default:()=>v});var t=n(52822),o=n(52536),i=n(72956),s=n(18232),a=n.n(s),l=n(59072),u=n(49368),c=n(32004),m=n(24760),d=n(58860),f=["name"];function _(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function p(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?_(Object(n),!0).forEach((function(r){(0,o.c)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var b={name:"",url:"",ca_cert:null,client_cert:null,tls_validation:!0,proxy_url:null,download_concurrency:null,rate_limit:null,requirements_file:null,auth_url:null,signed_only:!1,hidden_fields:["client_key","proxy_username","proxy_password","username","password","token"].map((function(e){return{name:e,is_set:!1}}))};const v=(0,u.K2)({breadcrumbs:function(e){var r=e.name;return[{url:(0,c.oD)(c.uk.ansibleRemotes),name:i._s._({id:"TiuMpz"})},r&&{url:(0,c.oD)(c.uk.ansibleRemoteDetail,{name:r}),name:r},r?{name:i._s._({id:"ePK91l"})}:{name:i._s._({id:"m16xKo"})}].filter(Boolean)},condition:function(e,r){return(0,m.mW)(e)||(0,m.XI)(e,r)},displayName:"AnsibleRemoteEdit",errorTitle:{id:"cFwIgK"},listUrl:(0,c.oD)(c.uk.ansibleRemotes),query:function(e){var r=e.name;return l.E3.list({name:r}).then((function(e){return e.data.results[0]})).then((function(e){return l.E3.myPermissions((0,d.oL)(e.pulp_href)).then((function(e){return e.data.permissions})).catch((function(e){return console.error(e),[]})).then((function(r){return p(p({},e),{},{my_permissions:r})}))}))},title:function(e){return e.name||i._s._({id:"YtF5tm"})},transformParams:function(e){var r=e.name;return p(p({},(0,t.c)(e,f)),{},{name:"_"!==r?r:null})},render:function(e,r){var n=r.navigate,t=r.queueAlert,o=r.state,s=r.setState;if(!o.remoteToEdit){var m=p(p({},b),e);s({remoteToEdit:m,errorMessages:{}})}var f=o.remoteToEdit,_=o.errorMessages;return f?a().createElement(u.oj,{allowEditName:!e,remote:f,updateRemote:function(e){return s({remoteToEdit:e})},remoteType:"ansible-remote",showMain:!0,saveRemote:function(){var r=p({},o.remoteToEdit);e||(Object.keys(r).forEach((function(e){""!==r[e]&&null!=r[e]||delete r[e]})),delete r.hidden_fields),delete r.my_permissions,!r.url||r.url.includes("?")||r.url.endsWith("/")||(r.url+="/"),(e?l.E3.smartUpdate((0,d.oL)(e.pulp_href),r,e):l.E3.create(r)).then((function(o){var a=o.data;s({errorMessages:{},remoteToEdit:void 0}),t(e?(0,d.MR)(a,i._s._({id:"pkDdw8",values:{0:r.name}})):{variant:"success",title:i._s._({id:"4FiyjO",values:{0:r.name}})}),n((0,c.oD)(c.uk.ansibleRemoteDetail,{name:r.name}))})).catch((function(e){var r=e.response.data;return s({errorMessages:p({__nofield:r.non_field_errors||r.detail},r)})}))},errorMessages:_,closeModal:function(){s({errorMessages:{},remoteToEdit:void 0}),n(e?(0,c.oD)(c.uk.ansibleRemoteDetail,{name:e.name}):(0,c.oD)(c.uk.ansibleRemotes))}}):null}})},24760:(e,r,n)=>{n.d(r,{ET:()=>f,OM:()=>p,XI:()=>a,Yf:()=>u,a2:()=>m,i:()=>c,m2:()=>d,mW:()=>i,o7:()=>l,qI:()=>_,wT:()=>s,yu:()=>b});var t=function(e){return function(r){var n=r.hasPermission,t=r.user;return n(e)||(null==t?void 0:t.is_superuser)}},o=function(e){return function(r,n){var t=r.hasPermission,o=r.hasObjectPermission,i=r.user;return t(e)||(null==o?void 0:o(e,n))||(null==i?void 0:i.is_superuser)}},i=t("ansible.add_collectionremote"),s=o("ansible.delete_collectionremote"),a=o("ansible.change_collectionremote"),l=o("ansible.view_collectionremote"),u=o("ansible.manage_roles_collectionremote"),c=t("ansible.add_ansiblerepository"),m=o("ansible.delete_ansiblerepository"),d=o("ansible.change_ansiblerepository"),f=d,_=function(e){var r=e.user,n=e.featureFlags;return r&&(null==n?void 0:n.display_repositories)},p=o("ansible.manage_roles_ansiblerepository"),b=d}}]);
//# sourceMappingURL=1056.ea4e76873659bacfb0ec.js.map