{"version":3,"sources":["webpack:///./src/containers/namespace-list/namespace-list.scss","webpack:///./src/containers/namespace-list/namespace-list.tsx","webpack:///./src/containers/namespace-list/namespace-list.scss?dbb7","webpack:///./src/containers/namespace-list/my-namespaces.tsx","webpack:///./src/containers/namespace-list/partners.tsx"],"names":["module","exports","push","i","props","nonURLParams","state","namespaces","undefined","itemCount","params","parseParamString","location","search","componentDidMount","this","filterOwner","getCachedUser","then","result","setState","tenant","account_number","loadNamespaces","catch","r","console","log","render","title","namespacePath","className","sortOptions","id","searchPlaceholder","updateParams","p","perPage","page_size","page","onSetPage","_","setParam","onPerPageSelect","map","ns","key","to","namespace","name","list","results","data","meta","count","updateParamsMixin","content","options","transform","update","locals","hot","accept","newContent","a","b","idx","Error","dispose","myCollections","MyNamespaces","Partners"],"mappings":"8EAAUA,EAAOC,QAAU,EAAQ,GAAR,EAAgE,IAEnFC,KAAK,CAACF,EAAOG,EAAI,8OAA+O,M,mpBC4BxQ,cAGI,WAAYC,GAAZ,MACI,YAAMA,IAAM,K,OAHhB,EAAAC,aAAe,CAAC,UAIZ,EAAKC,MAAQ,CACTC,gBAAYC,EACZC,UAAW,EACXC,OAAQ,IAAYC,iBAAiBP,EAAMQ,SAASC,S,EAyGhE,OAjHmC,OAY/B,YAAAC,kBAAA,sBACQC,KAAKX,MAAMY,YACX,IAAQC,gBACHC,KAAK,SAAAC,GACF,EAAKC,SACD,CACIV,OAAQ,EAAF,GACC,EAAKJ,MAAMI,OAAM,CACpBW,OAAQF,EAAOG,kBAGvB,WAAM,SAAKC,qBAGlBC,MAAM,SAAAC,GAAK,OAAAC,QAAQC,IAAIF,KAE5BV,KAAKQ,kBAIb,YAAAK,OAAA,sBACU,aAAErB,EAAA,EAAAA,WAAYG,EAAA,EAAAA,OAAQD,EAAA,EAAAA,UACtB,aAAEoB,EAAA,EAAAA,MAAOC,EAAA,EAAAA,cACf,OAAKvB,EAKD,gBAAC,WAAc,KACX,gBAAC,IAAU,CAACsB,MAAOA,GACf,uBAAKE,UAAU,WACX,gBAAC,IAAO,CACJrB,OAAQA,EACRsB,YAAa,CAAC,CAAEH,MAAO,OAAQI,GAAI,SACnCC,kBAAmB,UAAYL,EAC/BM,aAAc,SAAAC,GACV,SAAKD,aAAaC,EAAG,WACjB,SAAKb,sBAKjB,2BACI,gBAAC,IAAU,CACPd,UAAWA,EACX4B,QAAS3B,EAAO4B,WAAa,GAC7BC,KAAM7B,EAAO6B,MAAQ,EACrBC,UAAW,SAACC,EAAGL,GACX,SAAKD,aACD,IAAYO,SAAShC,EAAQ,OAAQ0B,GACrC,WAAM,SAAKb,oBAGnBoB,gBAAiB,SAACF,EAAGL,GACjB,EAAKD,aAAa,EAAD,GAENzB,EAAM,CACT6B,KAAM,EACND,UAAWF,IAEf,WAAM,SAAKb,yBAOnC,gBAAC,OAAI,KACD,gBAAC,UAAO,CAACQ,UAAU,eACdxB,EAAWqC,IAAI,SAACC,EAAI1C,GAAM,OACvB,uBAAK2C,IAAK3C,EAAG4B,UAAU,gBACnB,gBAAC,IAAI,CACDgB,GAAI,YAAWjB,EAAe,CAC1BkB,UAAWH,EAAGI,QAGlB,gBAAC,IAAa,GACVH,IAAK3C,GACD0C,WAtDzB,MAiEP,YAAAtB,eAAR,sBACI,IAAa2B,KAAKnC,KAAKT,MAAMI,QAAQQ,KAAK,SAAAiC,GACtC,EAAK/B,SAAS,CACVb,WAAY4C,EAAQC,KAAKA,KACzB3C,UAAW0C,EAAQC,KAAKC,KAAKC,WAKzC,sBAAY,2BAAY,C,IAAxB,WACI,OAAO,IAAYC,kBAAkBxC,KAAKV,e,gCAElD,EAjHA,CAAmC,c,oBC7BnC,IAAImD,EAAU,EAAQ,KAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACxD,EAAOG,EAAIqD,EAAS,MAOhE,IAAIC,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBlD,GAEjBmD,EAAS,EAAQ,GAAR,CAAgEH,EAASC,GAEnFD,EAAQI,SAAQ5D,EAAOC,QAAUuD,EAAQI,QAG3C5D,EAAO6D,IAAIC,OAAO,IAAwH,WACzI,IAAIC,EAAa,EAAQ,KAiBzB,GAfyB,iBAAfA,IAAyBA,EAAa,CAAC,CAAC/D,EAAOG,EAAI4D,EAAY,OAE3D,SAASC,EAAGC,GACzB,IAAInB,EAAKoB,EAAM,EAEf,IAAIpB,KAAOkB,EAAG,CACb,IAAIC,GAAKD,EAAElB,KAASmB,EAAEnB,GAAM,OAAO,EACnCoB,IAGD,IAAIpB,KAAOmB,EAAGC,IAEd,OAAe,IAARA,EAVK,CAWXV,EAAQI,OAAQG,EAAWH,QAEjB,MAAM,IAAIO,MAAM,uDAE5BR,EAAOI,KAGR/D,EAAO6D,IAAIO,QAAQ,WAAaT,O,glBCpCjC,2B,+CAWA,OAX2B,OACvB,YAAA/B,OAAA,WACI,OACI,gBAAC,IAAa,KACNb,KAAKX,MAAK,CACd0B,cAAe,IAAMuC,cACrBxC,MAAM,gBACNb,aAAa,MAI7B,EAXA,CAA2B,aAaZ,sBAAWsD,I,glBCd1B,2B,+CAUA,OAVuB,OACnB,YAAA1C,OAAA,WACI,OACI,gBAAC,IAAa,KACNb,KAAKX,MAAK,CACd0B,cAAe,IAAMkB,UACrBnB,MAAM,eAItB,EAVA,CAAuB,aAYR,sBAAW0C","file":"js/namespace_list.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".card-layout {\\n  display: flex;\\n  flex-wrap: wrap; }\\n  .card-layout .card-wrapper {\\n    margin-right: 24px;\\n    margin-bottom: 24px; }\\n\\n.toolbar {\\n  padding-bottom: 16px;\\n  display: flex;\\n  justify-content: space-between; }\\n\", \"\"]);\n\n","import * as React from 'react';\nimport './namespace-list.scss';\n\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport { Main, Section } from '@redhat-cloud-services/frontend-components';\nimport { Pagination } from '@patternfly/react-core';\n\nimport { ParamHelper } from '../../utilities/param-helper';\nimport { BaseHeader, NamespaceCard, Toolbar } from '../../components';\nimport { NamespaceAPI, NamespaceListType, UserAPI } from '../../api';\nimport { Paths, formatPath } from '../../paths';\n\ninterface IState {\n    namespaces: NamespaceListType[];\n    itemCount: number;\n    params: {\n        name?: string;\n        sort?: string;\n        page?: number;\n        page_size?: number;\n        tenant?: string;\n    };\n}\n\ninterface IProps extends RouteComponentProps {\n    title: string;\n    namespacePath: Paths;\n    filterOwner?: boolean;\n}\n\nexport class NamespaceList extends React.Component<IProps, IState> {\n    nonURLParams = ['tenant'];\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            namespaces: undefined,\n            itemCount: 0,\n            params: ParamHelper.parseParamString(props.location.search),\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.filterOwner) {\n            UserAPI.getCachedUser()\n                .then(result => {\n                    this.setState(\n                        {\n                            params: {\n                                ...this.state.params,\n                                tenant: result.account_number,\n                            },\n                        },\n                        () => this.loadNamespaces(),\n                    );\n                })\n                .catch(r => console.log(r));\n        } else {\n            this.loadNamespaces();\n        }\n    }\n\n    render() {\n        const { namespaces, params, itemCount } = this.state;\n        const { title, namespacePath } = this.props;\n        if (!namespaces) {\n            return null;\n        }\n\n        return (\n            <React.Fragment>\n                <BaseHeader title={title}>\n                    <div className='toolbar'>\n                        <Toolbar\n                            params={params}\n                            sortOptions={[{ title: 'Name', id: 'name' }]}\n                            searchPlaceholder={'Search ' + title}\n                            updateParams={p =>\n                                this.updateParams(p, () =>\n                                    this.loadNamespaces(),\n                                )\n                            }\n                        />\n\n                        <div>\n                            <Pagination\n                                itemCount={itemCount}\n                                perPage={params.page_size || 50}\n                                page={params.page || 1}\n                                onSetPage={(_, p) =>\n                                    this.updateParams(\n                                        ParamHelper.setParam(params, 'page', p),\n                                        () => this.loadNamespaces(),\n                                    )\n                                }\n                                onPerPageSelect={(_, p) => {\n                                    this.updateParams(\n                                        {\n                                            ...params,\n                                            page: 1,\n                                            page_size: p,\n                                        },\n                                        () => this.loadNamespaces(),\n                                    );\n                                }}\n                            />\n                        </div>\n                    </div>\n                </BaseHeader>\n                <Main>\n                    <Section className='card-layout'>\n                        {namespaces.map((ns, i) => (\n                            <div key={i} className='card-wrapper'>\n                                <Link\n                                    to={formatPath(namespacePath, {\n                                        namespace: ns.name,\n                                    })}\n                                >\n                                    <NamespaceCard\n                                        key={i}\n                                        {...ns}\n                                    ></NamespaceCard>\n                                </Link>\n                            </div>\n                        ))}\n                    </Section>\n                </Main>\n            </React.Fragment>\n        );\n    }\n\n    private loadNamespaces() {\n        NamespaceAPI.list(this.state.params).then(results => {\n            this.setState({\n                namespaces: results.data.data,\n                itemCount: results.data.meta.count,\n            });\n        });\n    }\n\n    private get updateParams() {\n        return ParamHelper.updateParamsMixin(this.nonURLParams);\n    }\n}\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js!./namespace-list.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js!./namespace-list.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js!./namespace-list.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as React from 'react';\n\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { NamespaceList } from './namespace-list';\nimport { Paths } from '../../paths';\n\nclass MyNamespaces extends React.Component<RouteComponentProps, {}> {\n    render() {\n        return (\n            <NamespaceList\n                {...this.props}\n                namespacePath={Paths.myCollections}\n                title='My Namespaces'\n                filterOwner={true}\n            />\n        );\n    }\n}\n\nexport default withRouter(MyNamespaces);\n","import * as React from 'react';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nimport { NamespaceList } from './namespace-list';\nimport { Paths } from '../../paths';\n\nclass Partners extends React.Component<RouteComponentProps, {}> {\n    render() {\n        return (\n            <NamespaceList\n                {...this.props}\n                namespacePath={Paths.namespace}\n                title='Partners'\n            />\n        );\n    }\n}\n\nexport default withRouter(Partners);\n"],"sourceRoot":""}