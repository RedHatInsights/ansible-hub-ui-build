"use strict";(self.webpackChunkansible_hub_ui=self.webpackChunkansible_hub_ui||[]).push([[684],{22366:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(87462),r=n(15671),s=n(43144),c=n(60136),o=n(6215),i=n(61120),l=n(67294),u=n(5977),p=n(98314),m=n(61647);var f=function(e){(0,c.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o.Z)(this,e)});function f(){return(0,r.Z)(this,f),u.apply(this,arguments)}return(0,s.Z)(f,[{key:"render",value:function(){return l.createElement(p.T,(0,a.Z)({},this.props,{namespacePath:m.nB.myCollectionsByRepo,filterOwner:!0}))}}]),f}(l.Component);const d=(0,u.EN)(f)},98314:(e,t,n)=>{n.d(t,{T:()=>x});var a,r,s,c,o,i,l,u,p,m,f=n(87462),d=n(30168),h=n(15671),v=n(43144),y=n(97326),Z=n(60136),E=n(6215),g=n(61120),P=n(4942),N=n(67294),O=n(5977),R=n(43819),k=n(92942),C=n(1595),T=n(47173),B=n(74761),w=n(61647),S=n(42807),b=n(61542),M=n(6568);var x=function(e){(0,Z.Z)(x,e);var t,n,b=(t=x,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,g.Z)(t);if(n){var r=(0,g.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,E.Z)(this,e)});function x(e){var t;(0,h.Z)(this,x),t=b.call(this,e),(0,P.Z)((0,y.Z)(t),"nonURLParams",["tenant"]),(0,P.Z)((0,y.Z)(t),"handleModalToggle",(function(){t.setState((function(e){return{isModalOpen:!e.isModalOpen}}))}));var n=R.q.parseParamString(e.location.search,["page","page_size"]);return n.page_size||(n.page_size=20),n.sort||(n.sort="name"),t.state={namespaces:void 0,itemCount:0,params:n,hasPermission:!0,isModalOpen:!1,loading:!0},t}return(0,v.Z)(x,[{key:"componentDidMount",value:function(){var e=this;this.props.filterOwner?B.V$.list({}).then((function(t){0!==t.data.meta.count?e.loadNamespaces():e.setState({hasPermission:!1,namespaces:[],loading:!1})})):this.loadNamespaces()}},{key:"render",value:function(){var e,t=this;if(this.state.redirect)return N.createElement(O.l_,{push:!0,to:this.state.redirect});var n=this.state,l=n.namespaces,u=n.params,p=n.itemCount,m=this.props.filterOwner,f=this.context.user,h=!(0,M.vS)(this.state.params,["keywords"])&&void 0!==l&&0===l.length;if(!l)return N.createElement(k.gO,null);var v=[];null!=f&&null!==(e=f.model_permissions)&&void 0!==e&&e.add_namespace&&v.push(N.createElement(C.E,{key:"create-button"},N.createElement(T.zx,{variant:"primary",onClick:this.handleModalToggle},_(a||(a=(0,d.Z)(["Create"]))))));var y=w.Th.name,Z=m?_(r||(r=(0,d.Z)(["Search my namespaces"]))):_(s||(s=(0,d.Z)(["Search all "])))+y.toLowerCase();return N.createElement("div",{className:"namespace-page"},N.createElement(k.RZ,{isOpen:this.state.isModalOpen,toggleModal:this.handleModalToggle,onCreateSuccess:function(e){return t.setState({redirect:(0,w.dI)(w.nB.myCollections,{namespace:e.name})})}}),N.createElement(k.UP,{title:y},N.createElement("div",{className:"tab-link-container"},N.createElement("div",{className:"tabs"},N.createElement(k.Ak,{tabs:[{title:_(c||(c=(0,d.Z)(["All"]))),link:w.nB.partners,active:!m},{title:_(o||(o=(0,d.Z)(["My namespaces"]))),link:w.nB.myNamespaces,active:m}]}))),h?null:N.createElement("div",{className:"toolbar"},N.createElement(k.o8,{params:u,sortOptions:[{title:_(i||(i=(0,d.Z)(["Name"]))),id:"name",type:"alpha"}],searchPlaceholder:Z,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},extraInputs:v}),N.createElement("div",null,N.createElement(k.tl,{params:u,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},count:p,isCompact:!0,perPageOptions:S.g.CARD_DEFAULT_PAGINATION_OPTIONS})))),N.createElement("section",{className:"card-area"},this.renderBody()),h?null:N.createElement("section",{className:"footer"},N.createElement(k.tl,{params:u,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},perPageOptions:S.g.CARD_DEFAULT_PAGINATION_OPTIONS,count:p})))}},{key:"renderBody",value:function(){var e,t=this,n=this.state,a=n.namespaces,r=n.loading,s=this.props,c=s.namespacePath,o=s.filterOwner,i=this.context.user,h=_(l||(l=(0,d.Z)(["No namespaces yet"]))),v=o?_(p||(p=(0,d.Z)(["This account is not set up to manage any namespaces"]))):_(u||(u=(0,d.Z)(["Namespaces will appear once created"]))),y=null!=i&&null!==(e=i.model_permissions)&&void 0!==e&&e.add_namespace?N.createElement(T.zx,{variant:"primary",onClick:function(){return t.handleModalToggle()}},_(m||(m=(0,d.Z)(["Create"])))):null;return r?N.createElement("section",null,N.createElement(k.AW,null),";"):0===a.length?N.createElement("section",null,(0,M.vS)(this.state.params,["keywords"])?N.createElement(k.ei,null):N.createElement(k.vv,{title:h,description:v,button:y})):N.createElement("section",{className:"card-layout"},a.map((function(e,n){return N.createElement("div",{key:n,className:"card-wrapper"},N.createElement(k._v,(0,f.Z)({namespaceURL:(0,w.dI)(c,{namespace:e.name,repo:t.context.selectedRepo}),key:n},e)))})))}},{key:"loadNamespaces",value:function(){var e,t=this;e=this.props.filterOwner?function(e){return B.V$.list(e)}:function(e){return B.jZ.list(e)},this.setState({loading:!0},(function(){e(t.state.params).then((function(e){t.setState({namespaces:e.data.data,itemCount:e.data.meta.count,loading:!1})}))}))}},{key:"updateParams",get:function(){return R.q.updateParamsMixin(this.nonURLParams)}}]),x}(N.Component);x.contextType=b.I},42613:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(87462),r=n(15671),s=n(43144),c=n(60136),o=n(6215),i=n(61120),l=n(67294),u=n(5977),p=n(98314),m=n(61647);var f=function(e){(0,c.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o.Z)(this,e)});function f(){return(0,r.Z)(this,f),u.apply(this,arguments)}return(0,s.Z)(f,[{key:"render",value:function(){return l.createElement(p.T,(0,a.Z)({},this.props,{namespacePath:m.nB.namespaceByRepo,filterOwner:!1}))}}]),f}(l.Component);const d=(0,u.EN)(f)}}]);
//# sourceMappingURL=../sourcemaps/namespace_list.b79d78e54b0ce8814523.js.map