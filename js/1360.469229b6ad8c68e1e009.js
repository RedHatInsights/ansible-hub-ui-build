"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[1360],{61152:(e,t,a)=>{a.d(t,{u:()=>w});var n=a(60888),r=a(87088),s=a(92920),c=a(42232),i=a(76184),o=a(83136),l=a(36884),u=a(52536),p=a(72956),m=a(77104),d=a(18232),f=a.n(d),h=a(50708),g=a(59072),v=a(49368),y=a(76708),_=a(32004),k=a(58860);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.c)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t=(0,i.c)(t),(0,c.c)(e,P()?Reflect.construct(t,a||[],(0,i.c)(e).constructor):t.apply(e,a))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}var w=function(e){function t(e){var a;(0,r.c)(this,t),a=b(this,t,[e]),(0,u.c)((0,o.c)(a),"nonURLParams",["tenant"]),(0,u.c)((0,o.c)(a),"handleModalToggle",(function(){a.setState((function(e){return{isModalOpen:!e.isModalOpen}}))}));var n=k.us.parseParamString(e.location.search,["page","page_size"]);return n.page_size||(n.page_size=20),n.sort||(n.sort="name"),a.state={alerts:[],namespaces:void 0,itemCount:0,params:n,hasPermission:!0,isModalOpen:!1,loading:!0},a}return(0,l.c)(t,e),(0,s.c)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({alerts:this.context.alerts||[]}),this.context.setAlerts([]),this.props.filterOwner?g.JD.list({}).then((function(t){0!==t.data.meta.count?e.loadNamespaces():e.setState({hasPermission:!1,namespaces:[],loading:!1})})).catch((function(t){var a=t.response,n=a.status,r=a.statusText;e.setState({namespaces:[],itemCount:0,loading:!1},(function(){return e.addAlert({variant:"danger",title:p._s._({id:"Y/Po2Y"}),description:(0,k._A)(n,r)})}))})):this.loadNamespaces()}},{key:"render",value:function(){var e=this;if(this.state.redirect)return f().createElement(h.Navigate,{to:this.state.redirect});var t=this.state,a=t.alerts,n=t.namespaces,r=t.params,s=t.itemCount,c=t.loading,i=this.props.filterOwner,o=this.context.hasPermission,l=!(0,k.o5)(this.state.params,["keywords"])&&void 0!==n&&0===n.length;if(c)return f().createElement(v.Qz,null);var u=(0,_.WC)().name,d=function(t){return e.updateParams(t,(function(){return e.loadNamespaces()}))},g=[{id:"keywords",title:p._s._({id:"YBz5dV"})}],y=[{title:p._s._({id:"6YtxFj"}),id:"name",type:"alpha"}],O=[o("galaxy.add_namespace")?f().createElement(m.Button,{variant:"primary",onClick:this.handleModalToggle},p._s._({id:"hYgDIe"})):null];return f().createElement("div",{className:"hub-namespace-page"},f().createElement(v.kJ,{isOpen:this.state.isModalOpen,toggleModal:this.handleModalToggle,onCreateSuccess:function(t){return e.setState({redirect:(0,_.oD)(_.uk.namespaceDetail,{namespace:t.name},{tab:"collections"})})}}),f().createElement(v.WW,{alerts:a,closeAlert:function(t){return e.closeAlert(t)}}),f().createElement(v.wy,{title:u},!this.context.user.is_anonymous&&f().createElement("div",{className:"hub-tab-link-container"},f().createElement("div",{className:"tabs"},f().createElement(v.wf,{tabs:[{title:p._s._({id:"N40H+G"}),link:(0,_.oD)(_.uk.partners),active:!i},{title:p._s._({id:"SpDhjz"}),link:(0,_.oD)(_.uk.myNamespaces),active:i}]})))),l?null:f().createElement(v.ah,{buttons:O,count:s,filterConfig:g,ignoredParams:["page","page_size","sort"],params:r,sortOptions:y,updateParams:d}),f().createElement("section",{className:"card-area"},this.renderBody({updateParams:d})),l||c?null:f().createElement("section",{className:"footer"},f().createElement(v.eM,{params:r,updateParams:d,count:s})))}},{key:"renderBody",value:function(e){var t,a=this,n=e.updateParams,r=this.state,s=r.itemCount,c=r.loading,i=r.namespaces,o=r.params,l=this.props,u=l.namespacePath,d=l.filterOwner,h=this.context.hasPermission,g=p._s._({id:"8f0GxI"}),y=d?p._s._({id:"jf9wpJ"}):p._s._({id:"NIcGqz"}),O=h("galaxy.add_namespace")?f().createElement(m.Button,{variant:"primary",onClick:function(){return a.handleModalToggle()}},p._s._({id:"hYgDIe"})):null;return c?f().createElement("section",null,f().createElement(v.cI,null),";"):0===i.length?f().createElement("section",null,(0,k.o5)(this.state.params,["keywords"])?f().createElement(v.YX,null):f().createElement(v.BL,{title:g,description:y,button:O})):f().createElement("section",{className:"hub-card-layout"},i.map((function(e,t){return f().createElement("div",{key:t,className:"card-wrapper"},f().createElement(v.W1,{namespaceURL:(0,_.oD)(u,{namespace:e.name}),key:t,namespace:e}))})),s>o.page_size*(null!==(t=o.page)&&void 0!==t?t:1)?f().createElement("div",{className:"card-wrapper"},f().createElement(v.e,{onClick:function(){var e;return n(E(E({},o),{},{page:(null!==(e=o.page)&&void 0!==e?e:1)+1}))}})):null)}},{key:"loadNamespaces",value:function(){var e=this,t=this.props.filterOwner?g.JD:g.W_;this.setState({loading:!0},(function(){t.list(e.state.params).then((function(t){e.setState({namespaces:t.data.data,itemCount:t.data.meta.count,loading:!1})})).catch((function(t){var a=t.response,n=a.status,r=a.statusText;e.setState({namespaces:[],itemCount:0,loading:!1},(function(){return e.addAlert({variant:"danger",title:p._s._({id:"Y/Po2Y"}),description:(0,k._A)(n,r)})}))}))}))}},{key:"updateParams",get:function(){return k.us.updateParamsMixin(this.nonURLParams)}},{key:"addAlert",value:function(e){this.setState({alerts:[].concat((0,n.c)(this.state.alerts),[e])})}},{key:"closeAlert",get:function(){return(0,v.Yi)("alerts")}}]),t}(f().Component);w.contextType=y.c},11360:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var n=a(45072),r=a(87088),s=a(92920),c=a(42232),i=a(76184),o=a(36884),l=a(18232),u=a.n(l),p=a(32004),m=a(58860),d=a(61152);function f(e,t,a){return t=(0,i.c)(t),(0,c.c)(e,h()?Reflect.construct(t,a||[],(0,i.c)(e).constructor):t.apply(e,a))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var g=function(e){function t(){return(0,r.c)(this,t),f(this,t,arguments)}return(0,o.c)(t,e),(0,s.c)(t,[{key:"render",value:function(){return u().createElement(d.u,(0,n.c)({},this.props,{namespacePath:p.uk.namespaceDetail,filterOwner:!1}))}}]),t}(u().Component);const v=(0,m.Ak)(g)}}]);
//# sourceMappingURL=1360.469229b6ad8c68e1e009.js.map