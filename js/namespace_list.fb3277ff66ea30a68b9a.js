"use strict";(self.webpackChunkansible_hub_ui=self.webpackChunkansible_hub_ui||[]).push([[684],{22366:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(87462),r=n(15671),s=n(43144),o=n(60136),c=n(82963),i=n(61120),l=n(30624),u=n(86235),p=n(98314),m=n(61647),f=n(61542),d=n(81467);var h=function(e){(0,o.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,c.Z)(this,e)});function f(){return(0,r.Z)(this,f),u.apply(this,arguments)}return(0,s.Z)(f,[{key:"render",value:function(){return!this.context.user||this.context.user.is_anonymous?l.createElement(d.iA,null):l.createElement(p.T,(0,a.Z)({},this.props,{namespacePath:m.nB.myCollectionsByRepo,filterOwner:!0}))}}]),f}(l.Component);const v=(0,u.withRouter)(h);h.contextType=f.I},98314:(e,t,n)=>{n.d(t,{T:()=>R});var a=n(87462),r=n(15671),s=n(43144),o=n(97326),c=n(60136),i=n(82963),l=n(61120),u=n(4942),p=n(23179),m=n(30624),f=n(86235),d=n(43819),h=n(81467),v=n(56976),y=n(34903),g=n(61647),E=n(42807),_=n(18944),P=n(61542);var R=function(e){(0,c.Z)(R,e);var t,n,P=(t=R,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,l.Z)(t);if(n){var r=(0,l.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function R(e){var t;(0,r.Z)(this,R),t=P.call(this,e),(0,u.Z)((0,o.Z)(t),"nonURLParams",["tenant"]),(0,u.Z)((0,o.Z)(t),"handleModalToggle",(function(){t.setState((function(e){return{isModalOpen:!e.isModalOpen}}))}));var n=d.q.parseParamString(e.location.search,["page","page_size"]);return n.page_size||(n.page_size=20),n.sort||(n.sort="name"),t.state={namespaces:void 0,itemCount:0,params:n,hasPermission:!0,isModalOpen:!1,loading:!0},t}return(0,s.Z)(R,[{key:"componentDidMount",value:function(){var e=this;this.props.filterOwner?y.V$.list({}).then((function(t){0!==t.data.meta.count?e.loadNamespaces():e.setState({hasPermission:!1,namespaces:[],loading:!1})})):this.loadNamespaces()}},{key:"componentWillUnmount",value:function(){this.context.setAlerts([])}},{key:"render",value:function(){var e,t=this;if(this.state.redirect)return m.createElement(f.Redirect,{push:!0,to:this.state.redirect});var n=this.state,a=n.namespaces,r=n.params,s=n.itemCount,o=n.loading,c=this.props.filterOwner,i=this.context,l=i.user,u=i.alerts,d=!(0,_.vS)(this.state.params,["keywords"])&&void 0!==a&&0===a.length;if(o)return m.createElement(h.gO,null);var y=[];null!=l&&null!==(e=l.model_permissions)&&void 0!==e&&e.add_namespace&&y.push(m.createElement(v.ToolbarItem,{key:"create-button"},m.createElement(v.Button,{variant:"primary",onClick:this.handleModalToggle},p.ag._("Create"))));var P=g.Th.name,R=P.toLowerCase(),Z=c?p.ag._("Search my namespaces"):p.ag._("Search all {titleLowerCase}",{titleLowerCase:R});return m.createElement("div",{className:"namespace-page"},m.createElement(h.RZ,{isOpen:this.state.isModalOpen,toggleModal:this.handleModalToggle,onCreateSuccess:function(e){return t.setState({redirect:(0,g.dI)(g.nB.myCollections,{namespace:e.name})})}}),m.createElement(h.UW,{alerts:u,closeAlert:function(e){return t.closeAlert(e)}}),m.createElement(h.UP,{title:P},!this.context.user.is_anonymous&&m.createElement("div",{className:"tab-link-container"},m.createElement("div",{className:"tabs"},m.createElement(h.Ak,{tabs:[{title:p.ag._("All"),link:g.nB.partners,active:!c},{title:p.ag._("My namespaces"),link:g.nB.myNamespaces,active:c}]}))),d?null:m.createElement("div",{className:"toolbar"},m.createElement(h.o8,{params:r,sortOptions:[{title:p.ag._("Name"),id:"name",type:"alpha"}],searchPlaceholder:Z,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},extraInputs:y}),m.createElement("div",null,m.createElement(h.tl,{params:r,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},count:s,isCompact:!0,perPageOptions:E.g.CARD_DEFAULT_PAGINATION_OPTIONS})))),m.createElement("section",{className:"card-area"},this.renderBody()),d||o?null:m.createElement("section",{className:"footer"},m.createElement(h.tl,{params:r,updateParams:function(e){return t.updateParams(e,(function(){return t.loadNamespaces()}))},perPageOptions:E.g.CARD_DEFAULT_PAGINATION_OPTIONS,count:s})))}},{key:"renderBody",value:function(){var e,t=this,n=this.state,r=n.namespaces,s=n.loading,o=this.props,c=o.namespacePath,i=o.filterOwner,l=this.context.user,u=p.ag._("No namespaces yet"),f=i?p.ag._("This account is not set up to manage any namespaces"):p.ag._("Namespaces will appear once created"),d=null!=l&&null!==(e=l.model_permissions)&&void 0!==e&&e.add_namespace?m.createElement(v.Button,{variant:"primary",onClick:function(){return t.handleModalToggle()}},p.ag._("Create")):null;return s?m.createElement("section",null,m.createElement(h.AW,null),";"):0===r.length?m.createElement("section",null,(0,_.vS)(this.state.params,["keywords"])?m.createElement(h.ei,null):m.createElement(h.vv,{title:u,description:f,button:d})):m.createElement("section",{className:"card-layout"},r.map((function(e,n){return m.createElement("div",{key:n,className:"card-wrapper"},m.createElement(h._v,(0,a.Z)({namespaceURL:(0,g.dI)(c,{namespace:e.name,repo:t.context.selectedRepo}),key:n},e)))})))}},{key:"loadNamespaces",value:function(){var e,t=this;e=this.props.filterOwner?function(e){return y.V$.list(e)}:function(e){return y.jZ.list(e)},this.setState({loading:!0},(function(){e(t.state.params).then((function(e){t.setState({namespaces:e.data.data,itemCount:e.data.meta.count,loading:!1})}))}))}},{key:"updateParams",get:function(){return d.q.updateParamsMixin(this.nonURLParams)}},{key:"closeAlert",value:function(e){this.context.setAlerts([])}}]),R}(m.Component);R.contextType=P.I},42613:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(87462),r=n(15671),s=n(43144),o=n(60136),c=n(82963),i=n(61120),l=n(30624),u=n(86235),p=n(98314),m=n(61647);var f=function(e){(0,o.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,c.Z)(this,e)});function f(){return(0,r.Z)(this,f),u.apply(this,arguments)}return(0,s.Z)(f,[{key:"render",value:function(){return l.createElement(p.T,(0,a.Z)({},this.props,{namespacePath:m.nB.namespaceByRepo,filterOwner:!1}))}}]),f}(l.Component);const d=(0,u.withRouter)(f)}}]);
//# sourceMappingURL=../sourcemaps/namespace_list.8a7d9f1d7f9d835a83ace9e49732ed60.js.map