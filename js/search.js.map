{"version":3,"sources":["webpack:///./src/containers/search/search.scss","webpack:///./node_modules/@patternfly/react-core/node_modules/@patternfly/react-styles/css/components/Switch/switch.css","webpack:///./src/containers/search/search.scss?b903","webpack:///./node_modules/@patternfly/react-core/node_modules/@patternfly/react-styles/css/components/Switch/switch.js","webpack:///./node_modules/@patternfly/react-core/node_modules/@patternfly/react-styles/css/components/Switch/switch.css?6c0d","webpack:///./node_modules/@patternfly/react-core/dist/esm/components/Switch/Switch.js","webpack:///./src/containers/search/search.tsx"],"names":["module","exports","push","i","content","options","transform","undefined","update","locals","hot","accept","newContent","a","b","key","idx","Error","dispose","__esModule","default","props","super","id","console","error","this","_a","className","label","labelOff","isChecked","isDisabled","onChange","ouiaId","ouiaSafe","isAriaLabelledBy","Object","assign","switch","htmlFor","displayName","switchInput","type","event","target","checked","disabled","switchToggle","switchLabel","modifiers","on","off","switchToggleIcon","noVerticalAlign","defaultProps","log","params","parseParamString","location","search","CARD_DEFAULT_PAGE_SIZE","localStorage","getItem","SEARCH_VIEW_TYPE_LOCAL_KEY","state","collections","numberOfResults","loading","synclist","redirect","repo","pathname","split","selectedRepo","componentDidMount","STANDALONE_DEPLOYMENT_MODE","REPOSITORYNAMES","context","newRepoName","keys","find","setRepo","setState","DEAFAULTREPO","ALLOWEDREPOS","includes","queryCollections","INSIGHTS_DEPLOYMENT_MODE","getSynclist","componentDidUpdate","prevProps","href","origin","replace","render","Redirect","to","notFound","title","Toolbar","ToolbarContent","ToolbarGroup","ToolbarItem","updateParams","p","filterConfig","inputType","map","tag","style","marginTop","ignoredParams","size","setItem","view_type","count","perPageOptions","CARD_DEFAULT_PAGINATION_OPTIONS","isTop","renderCollections","length","renderEmpty","renderList","renderCards","EmptyState","variant","full","EmptyStateIcon","icon","Title","headingLevel","EmptyStateBody","Button","onClick","c","footer","renderSyncToggle","name","namespace","isCollectionSynced","toggleCollectionSync","colIndex","findIndex","el","splice","then","response","data","curate","found","policy","DataList","showNamespace","controls","list","result","meta","getReduced","deprecated","updateParamsMixin","withRouter","contextType","__docgenInfo","STORYBOOK_REACT_CLASSES","docgenInfo","path","__react_docgen_typescript_loader_error"],"mappings":"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","file":"js/search.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".search-page{height:100%;display:flex;flex-direction:column;justify-content:space-between}.search-page .toolbar-wrapper .toolbar{display:flex;justify-content:space-between;align-items:center}.search-page .toolbar-wrapper .toolbar .pagination-container{display:flex;align-items:center}.search-page .toolbar-wrapper .toolbar .pagination-container .card-list-switcher{margin-right:24px}.search-page .header{border-bottom:1px solid #d8d8d8}.search-page .collection-container{padding-top:24px;flex-grow:1}.search-page .collection-container .cards{display:flex;flex-wrap:wrap;align-content:flex-start}.search-page .collection-container .cards .card{margin-left:24px;margin-bottom:24px}.search-page .collection-container .list-container{width:100%}.search-page .collection-container .list{margin-bottom:24px;margin-left:24px;margin-right:24px;padding-top:16px;padding-bottom:16px;overflow:hidden}.search-page .collection-container .list .data-list{margin-top:-17px;margin-bottom:-17px}.search-page .collection-container .empty{flex-grow:1}.search-page .footer{border-top:1px solid #d8d8d8;flex-shrink:0}\\n\", \"\"]);\n\n","exports = module.exports = require(\"../../../../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".pf-c-switch{--pf-c-switch--FontSize: var(--pf-global--FontSize--md);--pf-c-switch__toggle-icon--FontSize: calc(var(--pf-c-switch--FontSize) * .625);--pf-c-switch__toggle-icon--Color: var(--pf-global--Color--light-100);--pf-c-switch__toggle-icon--Left: calc(var(--pf-c-switch--FontSize) * .4);--pf-c-switch__toggle-icon--Offset: 0.125rem;--pf-c-switch--LineHeight: var(--pf-global--LineHeight--md);--pf-c-switch--Height: calc(var(--pf-c-switch--FontSize) * var(--pf-c-switch--LineHeight));--pf-c-switch__input--checked__toggle--BackgroundColor: var(--pf-global--primary-color--100);--pf-c-switch__input--checked__toggle--before--TranslateX: calc(100% + var(--pf-c-switch__toggle-icon--Offset));--pf-c-switch__input--checked__label--Color: var(--pf-global--Color--dark-100);--pf-c-switch__input--not-checked__label--Color: var(--pf-global--disabled-color--100);--pf-c-switch__input--disabled__label--Color: var(--pf-global--disabled-color--100);--pf-c-switch__input--disabled__toggle--BackgroundColor: var(--pf-global--Color--dark-200);--pf-c-switch__input--disabled__toggle--before--BackgroundColor: var(--pf-global--disabled-color--200);--pf-c-switch__input--focus__toggle--OutlineWidth: var(--pf-global--BorderWidth--md);--pf-c-switch__input--focus__toggle--OutlineOffset: var(--pf-global--spacer--sm);--pf-c-switch__input--focus__toggle--OutlineColor: var(--pf-global--primary-color--100);--pf-c-switch__toggle--Height: calc(var(--pf-c-switch--FontSize) * var(--pf-c-switch--LineHeight));--pf-c-switch__toggle--BackgroundColor: var(--pf-global--disabled-color--200);--pf-c-switch__toggle--BorderRadius: var(--pf-c-switch--Height);--pf-c-switch__toggle--before--Width: calc(var(--pf-c-switch--FontSize) - var(--pf-c-switch__toggle-icon--Offset));--pf-c-switch__toggle--before--Height: var(--pf-c-switch__toggle--before--Width);--pf-c-switch__toggle--before--Top: calc((var(--pf-c-switch--Height) - var(--pf-c-switch__toggle--before--Height)) / 2);--pf-c-switch__toggle--before--Left: var(--pf-c-switch__toggle--before--Top);--pf-c-switch__toggle--before--BackgroundColor: var(--pf-global--BackgroundColor--100);--pf-c-switch__toggle--before--BorderRadius: var(--pf-global--BorderRadius--lg);--pf-c-switch__toggle--before--BoxShadow: var(--pf-global--BoxShadow--md);--pf-c-switch__toggle--before--Transition: transform .25s ease 0s;--pf-c-switch__toggle--Width: calc(var(--pf-c-switch--Height) + var(--pf-c-switch__toggle-icon--Offset) + var(--pf-c-switch__toggle--before--Width));--pf-c-switch__label--PaddingLeft: var(--pf-global--spacer--md);--pf-c-switch__label--Color: var(--pf-global--Color--dark-100);position:relative;display:inline-block;height:var(--pf-c-switch--Height);font-size:var(--pf-c-switch--FontSize);line-height:var(--pf-c-switch--LineHeight);vertical-align:middle;cursor:pointer}.pf-c-switch__input{position:absolute;cursor:pointer;opacity:0}.pf-c-switch__input:focus ~ .pf-c-switch__toggle{outline:var(--pf-c-switch__input--focus__toggle--OutlineWidth) solid var(--pf-c-switch__input--focus__toggle--OutlineColor);outline-offset:var(--pf-c-switch__input--focus__toggle--OutlineOffset)}.pf-c-switch__input:checked ~ .pf-c-switch__label{color:var(--pf-c-switch__input--checked__label--Color)}.pf-c-switch__input:checked ~ .pf-c-switch__toggle{background-color:var(--pf-c-switch__input--checked__toggle--BackgroundColor)}.pf-c-switch__input:checked ~ .pf-c-switch__toggle::before{transform:translateX(var(--pf-c-switch__input--checked__toggle--before--TranslateX))}.pf-c-switch__input:checked ~ .pf-m-off{display:none}.pf-c-switch__input:not(:checked) ~ .pf-c-switch__label{color:var(--pf-c-switch__input--not-checked__label--Color)}.pf-c-switch__input:not(:checked) ~ .pf-c-switch__toggle .pf-c-switch__toggle-icon{display:none;visibility:hidden}.pf-c-switch__input:not(:checked) ~ .pf-m-on{display:none}.pf-c-switch__input:disabled{cursor:not-allowed}.pf-c-switch__input:disabled ~ .pf-c-switch__label{color:var(--pf-c-switch__input--disabled__label--Color);cursor:not-allowed}.pf-c-switch__input:disabled ~ .pf-c-switch__toggle{cursor:not-allowed;background-color:var(--pf-c-switch__input--disabled__toggle--BackgroundColor)}.pf-c-switch__input:disabled ~ .pf-c-switch__toggle::before{background-color:var(--pf-c-switch__input--disabled__toggle--before--BackgroundColor)}.pf-c-switch__toggle{position:relative;display:inline-block;width:var(--pf-c-switch__toggle--Width);height:var(--pf-c-switch__toggle--Height);background-color:var(--pf-c-switch__toggle--BackgroundColor);border-radius:var(--pf-c-switch__toggle--BorderRadius)}.pf-c-switch__toggle::before{position:absolute;top:var(--pf-c-switch__toggle--before--Top);left:var(--pf-c-switch__toggle--before--Left);display:block;width:var(--pf-c-switch__toggle--before--Width);height:var(--pf-c-switch__toggle--before--Height);content:\\\"\\\";background-color:var(--pf-c-switch__toggle--before--BackgroundColor);border-radius:var(--pf-c-switch__toggle--before--BorderRadius);box-shadow:var(--pf-c-switch__toggle--before--BoxShadow);transition:var(--pf-c-switch__toggle--before--Transition)}.pf-c-switch__toggle-icon{position:absolute;top:0;bottom:0;left:var(--pf-c-switch__toggle-icon--Left);display:flex;align-items:center;font-size:var(--pf-c-switch__toggle-icon--FontSize);color:var(--pf-c-switch__toggle-icon--Color)}.pf-c-switch__label{display:inline-block;padding-left:var(--pf-c-switch__label--PaddingLeft);color:var(--pf-c-switch__label--Color);vertical-align:top}\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./search.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./search.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./search.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\nexports.__esModule = true;\nrequire('./switch.css');\nexports.default = {\n  \"modifiers\": {\n    \"off\": \"pf-m-off\",\n    \"on\": \"pf-m-on\"\n  },\n  \"switch\": \"pf-c-switch\",\n  \"switchInput\": \"pf-c-switch__input\",\n  \"switchLabel\": \"pf-c-switch__label\",\n  \"switchToggle\": \"pf-c-switch__toggle\",\n  \"switchToggleIcon\": \"pf-c-switch__toggle-icon\"\n};","\nvar content = require(\"!!../../../../../../../../css-loader/dist/cjs.js!../../../../../../../../sass-loader/dist/cjs.js!./switch.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../css-loader/dist/cjs.js!../../../../../../../../sass-loader/dist/cjs.js!./switch.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../css-loader/dist/cjs.js!../../../../../../../../sass-loader/dist/cjs.js!./switch.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Switch/switch';\nimport { css } from '@patternfly/react-styles';\nimport CheckIcon from '@patternfly/react-icons/dist/js/icons/check-icon';\nimport { getUniqueId } from '../../helpers/util';\nimport { getOUIAProps } from '../../helpers';\nexport class Switch extends React.Component {\n    constructor(props) {\n        super(props);\n        if (!props.id && !props['aria-label']) {\n            // eslint-disable-next-line no-console\n            console.error('Switch: Switch requires either an id or aria-label to be specified');\n        }\n        this.id = props.id || getUniqueId();\n    }\n    render() {\n        const _a = this.props, { \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        id, className, label, labelOff, isChecked, isDisabled, onChange, ouiaId, ouiaSafe } = _a, props = __rest(_a, [\"id\", \"className\", \"label\", \"labelOff\", \"isChecked\", \"isDisabled\", \"onChange\", \"ouiaId\", \"ouiaSafe\"]);\n        const isAriaLabelledBy = props['aria-label'] === '';\n        return (React.createElement(\"label\", Object.assign({ className: css(styles.switch, className), htmlFor: this.id }, getOUIAProps(Switch.displayName, ouiaId, ouiaSafe)),\n            React.createElement(\"input\", Object.assign({ id: this.id, className: css(styles.switchInput), type: \"checkbox\", onChange: event => onChange(event.target.checked, event), checked: isChecked, disabled: isDisabled, \"aria-labelledby\": isAriaLabelledBy ? `${this.id}-on` : null }, props)),\n            label !== undefined ? (React.createElement(React.Fragment, null,\n                React.createElement(\"span\", { className: css(styles.switchToggle) }),\n                React.createElement(\"span\", { className: css(styles.switchLabel, styles.modifiers.on), id: isAriaLabelledBy ? `${this.id}-on` : null, \"aria-hidden\": \"true\" }, label),\n                React.createElement(\"span\", { className: css(styles.switchLabel, styles.modifiers.off), id: isAriaLabelledBy ? `${this.id}-off` : null, \"aria-hidden\": \"true\" }, labelOff !== undefined ? labelOff : label))) : (React.createElement(\"span\", { className: css(styles.switchToggle) },\n                React.createElement(\"div\", { className: css(styles.switchToggleIcon), \"aria-hidden\": \"true\" },\n                    React.createElement(CheckIcon, { noVerticalAlign: true }))))));\n    }\n}\nSwitch.displayName = 'Switch';\nSwitch.defaultProps = {\n    isChecked: true,\n    isDisabled: false,\n    'aria-label': '',\n    onChange: () => undefined\n};\n//# sourceMappingURL=Switch.js.map","import * as React from 'react';\nimport './search.scss';\n\nimport { withRouter, RouteComponentProps, Redirect } from 'react-router-dom';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport {\n  DataList,\n  EmptyState,\n  EmptyStateIcon,\n  Title,\n  Toolbar,\n  ToolbarGroup,\n  ToolbarItem,\n  EmptyStateBody,\n  EmptyStateVariant,\n  Button,\n  ToolbarContent,\n  Switch,\n} from '@patternfly/react-core';\n\nimport { SearchIcon } from '@patternfly/react-icons';\n\nimport {\n  BaseHeader,\n  CollectionCard,\n  CardListSwitcher,\n  CollectionListItem,\n  CompoundFilter,\n  Pagination,\n  LoadingPageSpinner,\n  AppliedFilters,\n} from '../../components';\nimport {\n  CollectionAPI,\n  CollectionListType,\n  SyncListType,\n  MySyncListAPI,\n} from '../../api';\nimport { ParamHelper } from '../../utilities/param-helper';\nimport { Constants } from '../../constants';\nimport { AppContext } from '../../loaders/app-context';\nimport { Paths } from '../../paths';\n\ninterface IState {\n  collections: CollectionListType[];\n  numberOfResults: number;\n  params: {\n    page?: number;\n    page_size?: number;\n    keywords?: string;\n    tags?: string[];\n    view_type?: string;\n  };\n  loading: boolean;\n  synclist: SyncListType;\n  redirect: boolean;\n  repo: string;\n  selectedRepo: string;\n}\n\ninterface IProps extends RouteComponentProps {\n  selectedRepo: string;\n}\n\nclass Search extends React.Component<IProps, IState> {\n  tags: string[];\n\n  constructor(props) {\n    super(props);\n    console.log(props);\n\n    const params = ParamHelper.parseParamString(props.location.search, [\n      'page',\n      'page_size',\n    ]);\n\n    if (!params['page_size']) {\n      params['page_size'] = Constants.CARD_DEFAULT_PAGE_SIZE;\n    }\n\n    // Load view type from local storage if it's not set. This allows a\n    // user's view type preference to persist\n    if (!params['view_type']) {\n      params['view_type'] = localStorage.getItem(\n        Constants.SEARCH_VIEW_TYPE_LOCAL_KEY,\n      );\n    }\n\n    this.state = {\n      collections: [],\n      params: params,\n      numberOfResults: 0,\n      loading: true,\n      synclist: undefined,\n      redirect: false,\n      repo: props.location.pathname.split('/')[2],\n      selectedRepo: props.selectedRepo,\n    };\n  }\n\n  componentDidMount() {\n    const { repo } = this.state;\n    if (DEPLOYMENT_MODE === Constants.STANDALONE_DEPLOYMENT_MODE) {\n      if (!repo) {\n        this.context.setRepo(Constants.DEAFAULTREPO);\n        this.setState({ repo: Constants.DEAFAULTREPO });\n      } else if (\n        repo !== Constants.REPOSITORYNAMES[this.context.selectedRepo]\n      ) {\n        const newRepoName = Object.keys(Constants.REPOSITORYNAMES).find(\n          key => Constants.REPOSITORYNAMES[key] === repo,\n        );\n        this.context.setRepo(newRepoName);\n        this.setState({ repo: newRepoName });\n      }\n    }\n\n    if (!!repo && !Constants.ALLOWEDREPOS.includes(repo)) {\n      this.setState({ redirect: true });\n    }\n\n    this.queryCollections();\n\n    if (DEPLOYMENT_MODE === Constants.INSIGHTS_DEPLOYMENT_MODE)\n      this.getSynclist();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.selectedRepo !== this.props.selectedRepo) {\n      this.queryCollections();\n    }\n    if (\n      DEPLOYMENT_MODE === Constants.STANDALONE_DEPLOYMENT_MODE &&\n      !location.href.includes('repo')\n    ) {\n      location.href =\n        location.origin +\n        location.pathname.replace(\n          '/',\n          '/repo/' + Constants.REPOSITORYNAMES[this.context.selectedRepo] + '/',\n        );\n    }\n  }\n\n  render() {\n    const { collections, params, numberOfResults, redirect } = this.state;\n\n    if (redirect) {\n      return <Redirect to={Paths.notFound} />;\n    }\n\n    const tags = [\n      'cloud',\n      'linux',\n      'networking',\n      'storage',\n      'security',\n      'windows',\n      'infrastructure',\n      'monitoring',\n      'tools',\n      'database',\n      'application',\n    ];\n\n    return (\n      <div className='search-page'>\n        <BaseHeader className='header' title='Collections'>\n          <div className='toolbar-wrapper'>\n            <div className='toolbar'>\n              <Toolbar>\n                <ToolbarContent>\n                  <ToolbarGroup>\n                    <ToolbarItem>\n                      <CompoundFilter\n                        updateParams={p =>\n                          this.updateParams(p, () => this.queryCollections())\n                        }\n                        params={params}\n                        filterConfig={[\n                          {\n                            id: 'keywords',\n                            title: 'Keywords',\n                          },\n                          {\n                            id: 'tags',\n                            title: 'Tag',\n                            inputType: 'multiple',\n                            options: tags.map(tag => ({\n                              id: tag,\n                              title: tag,\n                            })),\n                          },\n                        ]}\n                      />\n                      <ToolbarItem>\n                        <AppliedFilters\n                          style={{ marginTop: '16px' }}\n                          updateParams={p =>\n                            this.updateParams(p, () => this.queryCollections())\n                          }\n                          params={params}\n                          ignoredParams={[\n                            'page_size',\n                            'page',\n                            'sort',\n                            'view_type',\n                          ]}\n                        />\n                      </ToolbarItem>\n                    </ToolbarItem>\n                  </ToolbarGroup>\n                </ToolbarContent>\n              </Toolbar>\n\n              <div className='pagination-container'>\n                <div className='card-list-switcher'>\n                  <CardListSwitcher\n                    size='sm'\n                    params={params}\n                    updateParams={p =>\n                      this.updateParams(p, () =>\n                        // Note, we have to use this.state.params instead\n                        // of params in the callback because the callback\n                        // executes before the page can re-run render\n                        // which means params doesn't contain the most\n                        // up to date state\n                        localStorage.setItem(\n                          Constants.SEARCH_VIEW_TYPE_LOCAL_KEY,\n                          this.state.params.view_type,\n                        ),\n                      )\n                    }\n                  />\n                </div>\n\n                <Pagination\n                  params={params}\n                  updateParams={p =>\n                    this.updateParams(p, () => this.queryCollections())\n                  }\n                  count={numberOfResults}\n                  perPageOptions={Constants.CARD_DEFAULT_PAGINATION_OPTIONS}\n                  isTop\n                />\n              </div>\n            </div>\n          </div>\n        </BaseHeader>\n        <Section className='collection-container'>\n          {this.renderCollections(collections, params)}\n        </Section>\n        <Section className='footer'>\n          <Pagination\n            params={params}\n            updateParams={p =>\n              this.updateParams(p, () => this.queryCollections())\n            }\n            perPageOptions={Constants.CARD_DEFAULT_PAGINATION_OPTIONS}\n            count={numberOfResults}\n          />\n        </Section>\n      </div>\n    );\n  }\n\n  private renderCollections(collections, params) {\n    if (this.state.loading) {\n      return <LoadingPageSpinner></LoadingPageSpinner>;\n    }\n    if (collections.length === 0) {\n      return this.renderEmpty();\n    }\n    if (params.view_type === 'list') {\n      return this.renderList(collections);\n    } else {\n      return this.renderCards(collections);\n    }\n  }\n\n  private renderEmpty() {\n    return (\n      <EmptyState className='empty' variant={EmptyStateVariant.full}>\n        <EmptyStateIcon icon={SearchIcon} />\n        <Title headingLevel='h2' size='lg'>\n          No results found\n        </Title>\n        <EmptyStateBody>\n          No results match the search criteria. Remove all filters to show\n          results.\n        </EmptyStateBody>\n        <Button\n          variant='link'\n          onClick={() => this.updateParams({}, () => this.queryCollections())}\n        >\n          Clear search\n        </Button>\n      </EmptyState>\n    );\n  }\n\n  private renderCards(collections) {\n    return (\n      <div className='cards'>\n        {collections.map(c => {\n          return (\n            <CollectionCard\n              className='card'\n              key={c.id}\n              {...c}\n              footer={this.renderSyncToggle(c.name, c.namespace.name)}\n              repo={this.context.selectedRepo}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n\n  private renderSyncToggle(name: string, namespace: string): React.ReactNode {\n    const { synclist } = this.state;\n    if (!synclist) {\n      return null;\n    }\n    return (\n      <Switch\n        id={namespace + '.' + name}\n        className='sync-toggle'\n        label='Sync'\n        isChecked={this.isCollectionSynced(name, namespace)}\n        onChange={() => this.toggleCollectionSync(name, namespace)}\n      />\n    );\n  }\n\n  private toggleCollectionSync(name: string, namespace: string) {\n    const synclist = { ...this.state.synclist };\n\n    const colIndex = synclist.collections.findIndex(\n      el => el.name === name && el.namespace === namespace,\n    );\n\n    if (colIndex < 0) {\n      synclist.collections.push({ name: name, namespace: namespace });\n    } else {\n      synclist.collections.splice(colIndex, 1);\n    }\n\n    MySyncListAPI.update(synclist.id, synclist).then(response => {\n      this.setState({ synclist: response.data });\n      MySyncListAPI.curate(synclist.id).then(() => null);\n    });\n  }\n\n  private isCollectionSynced(name: string, namespace: string): boolean {\n    const { synclist } = this.state;\n    const found = synclist.collections.find(\n      el => el.name === name && el.namespace === namespace,\n    );\n\n    if (synclist.policy === 'include') {\n      return !(found === undefined);\n    } else {\n      return found === undefined;\n    }\n  }\n\n  private renderList(collections) {\n    return (\n      <div className='list-container'>\n        <div className='list'>\n          <DataList className='data-list' aria-label={'List of Collections'}>\n            {collections.map(c => (\n              <CollectionListItem\n                showNamespace={true}\n                key={c.id}\n                {...c}\n                controls={this.renderSyncToggle(c.name, c.namespace.name)}\n                repo={this.context.selectedRepo}\n              />\n            ))}\n          </DataList>\n        </div>\n      </div>\n    );\n  }\n\n  private getSynclist() {\n    MySyncListAPI.list().then(result => {\n      // ignore results if more than 1 is returned\n      // TODO: should we throw an error for this or just ignore it?\n      if (result.data.meta.count === 1) {\n        this.setState({ synclist: result.data.data[0] });\n      } else {\n        console.error(\n          `my-synclist returned ${result.data.meta.count} synclists`,\n        );\n      }\n    });\n  }\n\n  private queryCollections() {\n    this.setState({ loading: true }, () => {\n      CollectionAPI.list(\n        {\n          ...ParamHelper.getReduced(this.state.params, ['view_type']),\n          deprecated: false,\n        },\n        Constants.REPOSITORYNAMES[this.context.selectedRepo],\n      ).then(result => {\n        this.setState({\n          collections: result.data.data,\n          numberOfResults: result.data.meta.count,\n          loading: false,\n        });\n      });\n    });\n  }\n\n  private get updateParams() {\n    return ParamHelper.updateParamsMixin();\n  }\n}\n\nexport default withRouter(Search);\n\nSearch.contextType = AppContext;\ntry {\n    // @ts-ignore\n    search.displayName = \"search\";\n    // @ts-ignore\n    search.__docgenInfo = { \"description\": \"\", \"displayName\": \"search\", \"props\": { \"wrappedComponentRef\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"wrappedComponentRef\", \"required\": false, \"type\": { \"name\": \"Ref<Search>\" } } } };\n    // @ts-ignore\n    if (typeof STORYBOOK_REACT_CLASSES !== \"undefined\")\n        // @ts-ignore\n        STORYBOOK_REACT_CLASSES[\"src/containers/search/search.tsx#search\"] = { docgenInfo: search.__docgenInfo, name: \"search\", path: \"src/containers/search/search.tsx#search\" };\n}\ncatch (__react_docgen_typescript_loader_error) { }"],"sourceRoot":""}