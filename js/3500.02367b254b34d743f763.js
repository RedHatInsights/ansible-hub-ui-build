"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[3500],{43500:(e,r,n)=>{n.r(r),n.d(r,{default:()=>h});var t=n(53986),o=n(64467),i=n(47712),a=n(32995),s=n.n(a),l=n(88756),u=n(62017),c=n(60165),m=n(5093),d=n(18712),f=["name"];function p(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function b(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){(0,o.A)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var _={name:"",url:"",ca_cert:null,client_cert:null,tls_validation:!0,proxy_url:null,download_concurrency:null,rate_limit:null,requirements_file:null,auth_url:null,signed_only:!1,hidden_fields:["client_key","proxy_username","proxy_password","username","password","token"].map((function(e){return{name:e,is_set:!1}}))};const h=(0,u.YW)({breadcrumbs:function(e){var r=e.name;return[{url:(0,c.jV)(c.Jh.ansibleRemotes),name:i.Ru._({id:"TiuMpz"})},r&&{url:(0,c.jV)(c.Jh.ansibleRemoteDetail,{name:r}),name:r},r?{name:i.Ru._({id:"ePK91l"})}:{name:i.Ru._({id:"m16xKo"})}].filter(Boolean)},condition:function(e,r){return(0,m.u9)(e)||(0,m.Xb)(e,r)},displayName:"AnsibleRemoteEdit",errorTitle:{id:"cFwIgK"},listUrl:(0,c.jV)(c.Jh.ansibleRemotes),query:function(e){var r=e.name;return l.DY.list({name:r}).then((function(e){return e.data.results[0]})).then((function(e){return l.DY.myPermissions((0,d.dx)(e.pulp_href)).then((function(e){return e.data.permissions})).catch((function(e){return console.error(e),[]})).then((function(r){return b(b({},e),{},{my_permissions:r})}))}))},title:function(e){return e.name||i.Ru._({id:"YtF5tm"})},transformParams:function(e){var r=e.name;return b(b({},(0,t.A)(e,f)),{},{name:"_"!==r?r:null})},render:function(e,r){var n=r.navigate,t=r.queueAlert,o=r.state,a=r.setState;if(!o.remoteToEdit){var m=b(b({},_),e);a({remoteToEdit:m,errorMessages:{}})}var f=o.remoteToEdit,p=o.errorMessages;return f?s().createElement(u.lK,{allowEditName:!e,remote:f,updateRemote:function(e){return a({remoteToEdit:e})},remoteType:"ansible-remote",showMain:!0,saveRemote:function(){var r=b({},o.remoteToEdit);e||(Object.keys(r).forEach((function(e){""!==r[e]&&null!=r[e]||delete r[e]})),delete r.hidden_fields),delete r.my_permissions,!r.url||r.url.includes("?")||r.url.endsWith("/")||(r.url+="/"),(e?l.DY.smartUpdate((0,d.dx)(e.pulp_href),r,e):l.DY.create(r)).then((function(o){var s=o.data;a({errorMessages:{},remoteToEdit:void 0}),t(e?(0,d.Oz)(s,i.Ru._({id:"pkDdw8",values:{0:r.name}})):{variant:"success",title:i.Ru._({id:"4FiyjO",values:{0:r.name}})}),n((0,c.jV)(c.Jh.ansibleRemoteDetail,{name:r.name}))})).catch((function(e){var r=e.response.data;return a({errorMessages:b({__nofield:r.non_field_errors||r.detail},r)})}))},errorMessages:p,closeModal:function(){a({errorMessages:{},remoteToEdit:void 0}),n(e?(0,c.jV)(c.Jh.ansibleRemoteDetail,{name:e.name}):(0,c.jV)(c.Jh.ansibleRemotes))}}):null}})},5093:(e,r,n)=>{n.d(r,{$w:()=>u,Bf:()=>d,Fs:()=>b,QZ:()=>c,Sq:()=>a,Xb:()=>s,_9:()=>m,hB:()=>_,k3:()=>p,re:()=>l,u9:()=>i,wY:()=>f});var t=function(e){return function(r){var n=r.hasPermission,t=r.user;return n(e)||(null==t?void 0:t.is_superuser)}},o=function(e){return function(r,n){var t=r.hasPermission,o=r.hasObjectPermission,i=r.user;return t(e)||(null==o?void 0:o(e,n))||(null==i?void 0:i.is_superuser)}},i=t("ansible.add_collectionremote"),a=o("ansible.delete_collectionremote"),s=o("ansible.change_collectionremote"),l=o("ansible.view_collectionremote"),u=o("ansible.manage_roles_collectionremote"),c=t("ansible.add_ansiblerepository"),m=o("ansible.delete_ansiblerepository"),d=o("ansible.change_ansiblerepository"),f=d,p=function(e){var r=e.user,n=e.featureFlags;return r&&(null==n?void 0:n.display_repositories)},b=o("ansible.manage_roles_ansiblerepository"),_=d}}]);
//# sourceMappingURL=../sourcemaps/3500.701b1e0ed9c6018a019a5ee0821fc1b8.js.map