"use strict";(self.webpackChunkautomationHub=self.webpackChunkautomationHub||[]).push([[2613],{98314:(e,t,a)=>{a.d(t,{T:()=>k});var n=a(42982),r=a(15671),s=a(43144),i=a(97326),o=a(79340),c=a(82963),l=a(61120),u=a(4942),p=a(89555),m=a(15021),d=a(92950),f=a.n(d),h=a(62012),g=a(8902),v=a(61446),y=a(42807),E=a(61542),P=a(61647),b=a(15751);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e){(0,o.Z)(E,e);var t,a,d=(t=E,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function E(e){var t;(0,r.Z)(this,E),t=d.call(this,e),(0,u.Z)((0,i.Z)(t),"nonURLParams",["tenant"]),(0,u.Z)((0,i.Z)(t),"handleModalToggle",(function(){t.setState((function(e){return{isModalOpen:!e.isModalOpen}}))}));var a=b.q6.parseParamString(e.location.search,["page","page_size"]);return a.page_size||(a.page_size=20),a.sort||(a.sort="name"),t.state={alerts:[],namespaces:void 0,itemCount:0,params:a,hasPermission:!0,isModalOpen:!1,loading:!0,inputText:a.keywords||""},t}return(0,s.Z)(E,[{key:"componentDidMount",value:function(){var e=this;this.setState({alerts:this.context.alerts||[]}),this.context.setAlerts([]),this.props.filterOwner?g.V$.list({}).then((function(t){0!==t.data.meta.count?e.loadNamespaces():e.setState({hasPermission:!1,namespaces:[],loading:!1})})).catch((function(t){var a=t.response,n=a.status,r=a.statusText;e.setState({namespaces:[],itemCount:0,loading:!1},(function(){return e.addAlert({variant:"danger",title:p.ag._({id:"Y/Po2Y"}),description:(0,b.N3)(n,r)})}))})):this.loadNamespaces()}},{key:"render",value:function(){var e=this;if(this.state.redirect)return f().createElement(h.Navigate,{to:this.state.redirect});var t=this.state,a=t.alerts,n=t.namespaces,r=t.params,s=t.itemCount,i=t.loading,o=t.inputText,c=this.props.filterOwner,l=this.context.hasPermission,u=!(0,b.vS)(this.state.params,["keywords"])&&void 0!==n&&0===n.length;if(i)return f().createElement(v.gO,null);var d=(0,P.Th)().name,g=function(t){return e.updateParams(t,(function(){return e.loadNamespaces()}))};return f().createElement("div",{className:"hub-namespace-page"},f().createElement(v.RZ,{isOpen:this.state.isModalOpen,toggleModal:this.handleModalToggle,onCreateSuccess:function(t){return e.setState({redirect:(0,P.dI)(P.nB.namespaceDetail,{namespace:t.name},{tab:"collections"})})}}),f().createElement(v.UW,{alerts:a,closeAlert:function(t){return e.closeAlert(t)}}),f().createElement(v.UP,{title:d},!this.context.user.is_anonymous&&f().createElement("div",{className:"hub-tab-link-container"},f().createElement("div",{className:"tabs"},f().createElement(v.Ak,{tabs:[{title:p.ag._({id:"N40H+G"}),link:(0,P.dI)(P.nB.partners),active:!c},{title:p.ag._({id:"SpDhjz"}),link:(0,P.dI)(P.nB.myNamespaces),active:c}]}))),u?null:f().createElement("div",{className:"hub-toolbar hub-toolbar-left"},f().createElement(m.Toolbar,null,f().createElement(m.ToolbarContent,null,f().createElement(m.ToolbarGroup,{style:{marginLeft:0}},f().createElement(m.ToolbarItem,null,f().createElement(v.Kv,{inputText:o,onChange:function(t){return e.setState({inputText:t})},params:r,updateParams:g,filterConfig:[{id:"keywords",title:p.ag._({id:"YBz5dV"})}]}),f().createElement(v.M$,{style:{marginTop:"16px"},params:r,updateParams:function(t){g(t),e.setState({inputText:""})},ignoredParams:["page_size","page","sort"],niceNames:{keywords:p.ag._({id:"YBz5dV"})}}))),f().createElement(m.ToolbarGroup,{style:{alignSelf:"start"}},f().createElement(m.ToolbarItem,null,f().createElement(v.PE,{options:[{title:p.ag._({id:"6YtxFj"}),id:"name",type:"alpha"}],params:r,updateParams:g})),l("galaxy.add_namespace")&&f().createElement(m.ToolbarItem,{key:"create-button"},f().createElement(m.Button,{variant:"primary",onClick:this.handleModalToggle},p.ag._({id:"hYgDIe"})))))),f().createElement("div",null,f().createElement(v.tl,{params:r,updateParams:g,count:s,isCompact:!0,perPageOptions:y.g.CARD_DEFAULT_PAGINATION_OPTIONS})))),f().createElement("section",{className:"card-area"},this.renderBody({updateParams:g})),u||i?null:f().createElement("section",{className:"footer"},f().createElement(v.tl,{params:r,updateParams:g,perPageOptions:y.g.CARD_DEFAULT_PAGINATION_OPTIONS,count:s})))}},{key:"renderBody",value:function(e){var t,a=this,n=e.updateParams,r=this.state,s=r.itemCount,i=r.loading,o=r.namespaces,c=r.params,l=this.props,u=l.namespacePath,d=l.filterOwner,h=this.context.hasPermission,g=p.ag._({id:"8f0GxI"}),y=d?p.ag._({id:"jf9wpJ"}):p.ag._({id:"NIcGqz"}),E=h("galaxy.add_namespace")?f().createElement(m.Button,{variant:"primary",onClick:function(){return a.handleModalToggle()}},p.ag._({id:"hYgDIe"})):null;return i?f().createElement("section",null,f().createElement(v.AW,null),";"):0===o.length?f().createElement("section",null,(0,b.vS)(this.state.params,["keywords"])?f().createElement(v.ei,null):f().createElement(v.vv,{title:g,description:y,button:E})):f().createElement("section",{className:"hub-card-layout"},o.map((function(e,t){return f().createElement("div",{key:t,className:"card-wrapper"},f().createElement(v._v,{namespaceURL:(0,P.dI)(u,{namespace:e.name}),key:t,namespace:e}))})),s>c.page_size*(null!==(t=c.page)&&void 0!==t?t:1)?f().createElement("div",{className:"card-wrapper"},f().createElement(v.ic,{onClick:function(){var e;return n(T(T({},c),{},{page:(null!==(e=c.page)&&void 0!==e?e:1)+1}))}})):null)}},{key:"loadNamespaces",value:function(){var e=this,t=this.props.filterOwner?g.V$:g.jZ;this.setState({loading:!0},(function(){t.list(e.state.params).then((function(t){e.setState({namespaces:t.data.data,itemCount:t.data.meta.count,loading:!1})})).catch((function(t){var a=t.response,n=a.status,r=a.statusText;e.setState({namespaces:[],itemCount:0,loading:!1},(function(){return e.addAlert({variant:"danger",title:p.ag._({id:"Y/Po2Y"}),description:(0,b.N3)(n,r)})}))}))}))}},{key:"updateParams",get:function(){return b.q6.updateParamsMixin(this.nonURLParams)}},{key:"addAlert",value:function(e){this.setState({alerts:[].concat((0,n.Z)(this.state.alerts),[e])})}},{key:"closeAlert",get:function(){return(0,v.NQ)("alerts")}}]),E}(f().Component);k.contextType=E.I},42613:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(87462),r=a(15671),s=a(43144),i=a(79340),o=a(82963),c=a(61120),l=a(92950),u=a.n(l),p=a(61647),m=a(15751),d=a(98314);var f=function(e){(0,i.Z)(m,e);var t,a,l=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var r=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function m(){return(0,r.Z)(this,m),l.apply(this,arguments)}return(0,s.Z)(m,[{key:"render",value:function(){return u().createElement(d.T,(0,n.Z)({},this.props,{namespacePath:p.nB.namespaceDetail,filterOwner:!1}))}}]),m}(u().Component);const h=(0,m.EN)(f)}}]);
//# sourceMappingURL=../sourcemaps/2613.23f44e2fedb0c9bf135bd4dfabb41604.js.map