{"version":3,"file":"js/6289.769baf268f87e0170271.js","mappings":"s1BAiBA,IAAMA,EAAkB,CAEtBC,EAAAA,GAEAC,EAAAA,GAEAC,EAAAA,GAEAC,EAAAA,IAmGF,SAhG8BC,EAAAA,EAAAA,IAAgC,CAC5DC,UAAWC,EAAAA,GACXC,gBAAiB,GACjBC,YAAa,gBACbC,YAAa,wBACbC,WAAYC,EAAAA,GAAAC,EAAA,wCACZC,WAAY,CAAC,EACbC,aAAc,CACZ,CACEC,GAAI,kBACJC,MAAOL,EAAAA,GAAAC,EAAA,oBAET,CACEG,GAAI,SACJC,MAAOL,EAAAA,GAAAC,EAAA,UACPK,UAAW,SACXC,QAAS,CACP,CACEH,GAAII,EAAAA,EAAUC,aACdJ,MAAOL,EAAAA,GAAAC,EAAA,aAET,CACEG,GAAII,EAAAA,EAAUE,YACdL,MAAOL,EAAAA,GAAAC,EAAA,iBAET,CACEG,GAAII,EAAAA,EAAUG,SACdN,MAAOL,EAAAA,GAAAC,EAAA,gBAKfW,cAAe,CAACC,EAAAA,IAChBzB,gBAAAA,EACA0B,aAAcD,EAAAA,GAA8BE,OAC5CC,kBAAmBhB,EAAAA,GAAAC,EAAA,0CACnBgB,YAAajB,EAAAA,GAAAC,EAAA,uBACbiB,MAAO,SAAAC,GAAgB,IACfC,EAAWC,EAAA,GADHF,EAANG,QAGR,GAAIF,EAAoB,OAAG,CACzB,IAAMG,EAASH,EAAoB,cAC5BA,EAAoB,OAC3BA,EAA+B,kBAAI,YAAHI,OAAeD,EACjD,CACA,OAAOE,EAAAA,GAAqBC,KAAKN,EACnC,EACAO,eAAc,SAACC,EAA6BC,EAAeC,GACzD,IAAQC,EAAkCH,EAAlCG,KAAMC,EAA4BJ,EAA5BI,aAAcC,EAAcL,EAAdK,UACtB7B,GAAK8B,EAAAA,EAAAA,IAAmBD,GAExBE,EAAa/C,EAAgBgD,KAAI,SAACC,GAAM,OAC5CA,EAAOC,aAAYjB,EAAAA,EAAC,CAAC,EAAIO,GAAI,IAAExB,GAAAA,IAAM0B,EAAc,IAGrD,OACES,IAAAA,cAAA,MAAIC,IAAKX,GACPU,IAAAA,cAAA,UACEA,IAAAA,cAACE,EAAAA,KAAI,CAACC,IAAIC,EAAAA,EAAAA,IAAWC,EAAAA,GAAMC,wBAAyB,CAAEd,KAAAA,KACnDA,IAGLQ,IAAAA,cAAA,WAAKO,EAAAA,EAAAA,IAAelB,IAAS,OAC7BW,IAAAA,cAAA,WAAKQ,EAAAA,EAAAA,IAAWnB,IAAS,OACzBW,IAAAA,cAAA,UACEA,IAAAA,cAACS,EAAAA,GAAa,CAACC,KAAMjB,KAEvBO,IAAAA,cAACW,EAAAA,GAAe,CAACf,WAAYA,IAGnC,EACAgB,YAAa,CACX,CACE9C,MAAOL,EAAAA,GAAAC,EAAA,mBACPmD,KAAM,QACNhD,GAAI,QAEN,CACEC,MAAOL,EAAAA,GAAAC,EAAA,eACPmD,KAAM,OACNhD,GAAI,kBAEN,CACEC,MAAOL,EAAAA,GAAAC,EAAA,eACPmD,KAAM,OACNhD,GAAI,cAEN,CACEC,MAAOL,EAAAA,GAAAC,EAAA,gBACPmD,KAAM,UACNhD,GAAI,iBAGRC,MAAOL,EAAAA,GAAAC,EAAA,iB","sources":["webpack:///./src/containers/ansible-repository/list.tsx"],"sourcesContent":["import { t } from '@lingui/macro';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  ansibleRepositoryCopyAction,\n  ansibleRepositoryCreateAction,\n  ansibleRepositoryDeleteAction,\n  ansibleRepositoryEditAction,\n  ansibleRepositorySyncAction,\n} from 'src/actions';\nimport { AnsibleRepositoryAPI, AnsibleRepositoryType } from 'src/api';\nimport { DateComponent, ListItemActions, ListPage } from 'src/components';\nimport { Constants } from 'src/constants';\nimport { Paths, formatPath } from 'src/paths';\nimport { canViewAnsibleRepositories } from 'src/permissions';\nimport { lastSyncStatus, lastSynced, parsePulpIDFromURL } from 'src/utilities';\n\nconst listItemActions = [\n  // Edit\n  ansibleRepositoryEditAction,\n  // Sync\n  ansibleRepositorySyncAction,\n  // Copy CLI configuration\n  ansibleRepositoryCopyAction,\n  // Delete\n  ansibleRepositoryDeleteAction,\n];\n\nconst AnsibleRepositoryList = ListPage<AnsibleRepositoryType>({\n  condition: canViewAnsibleRepositories,\n  defaultPageSize: 10,\n  defaultSort: '-pulp_created',\n  displayName: 'AnsibleRepositoryList',\n  errorTitle: t`Repositories could not be displayed.`,\n  extraState: {},\n  filterConfig: [\n    {\n      id: 'name__icontains',\n      title: t`Repository name`,\n    },\n    {\n      id: 'status',\n      title: t`Status`,\n      inputType: 'select',\n      options: [\n        {\n          id: Constants.NOTCERTIFIED,\n          title: t`Rejected`,\n        },\n        {\n          id: Constants.NEEDSREVIEW,\n          title: t`Needs Review`,\n        },\n        {\n          id: Constants.APPROVED,\n          title: t`Approved`,\n        },\n      ],\n    },\n  ],\n  headerActions: [ansibleRepositoryCreateAction], // Add repository\n  listItemActions,\n  noDataButton: ansibleRepositoryCreateAction.button,\n  noDataDescription: t`Repositories will appear once created.`,\n  noDataTitle: t`No repositories yet`,\n  query: ({ params }) => {\n    const queryParams = { ...params };\n\n    if (queryParams['status']) {\n      const status = queryParams['status'];\n      delete queryParams['status'];\n      queryParams['pulp_label_select'] = `pipeline=${status}`;\n    }\n    return AnsibleRepositoryAPI.list(queryParams);\n  },\n  renderTableRow(item: AnsibleRepositoryType, index: number, actionContext) {\n    const { name, pulp_created, pulp_href } = item;\n    const id = parsePulpIDFromURL(pulp_href);\n\n    const kebabItems = listItemActions.map((action) =>\n      action.dropdownItem({ ...item, id }, actionContext),\n    );\n\n    return (\n      <tr key={index}>\n        <td>\n          <Link to={formatPath(Paths.ansibleRepositoryDetail, { name })}>\n            {name}\n          </Link>\n        </td>\n        <td>{lastSyncStatus(item) || '---'}</td>\n        <td>{lastSynced(item) || '---'}</td>\n        <td>\n          <DateComponent date={pulp_created} />\n        </td>\n        <ListItemActions kebabItems={kebabItems} />\n      </tr>\n    );\n  },\n  sortHeaders: [\n    {\n      title: t`Repository name`,\n      type: 'alpha',\n      id: 'name',\n    },\n    {\n      title: t`Sync status`,\n      type: 'none',\n      id: 'lastSyncStatus',\n    },\n    {\n      title: t`Last synced`,\n      type: 'none',\n      id: 'lastSynced',\n    },\n    {\n      title: t`Created date`,\n      type: 'numeric',\n      id: 'pulp_created',\n    },\n  ],\n  title: t`Repositories`,\n});\n\nexport default AnsibleRepositoryList;\n"],"names":["listItemActions","ansibleRepositoryEditAction","ansibleRepositorySyncAction","ansibleRepositoryCopyAction","ansibleRepositoryDeleteAction","ListPage","condition","canViewAnsibleRepositories","defaultPageSize","defaultSort","displayName","errorTitle","i18n","_","extraState","filterConfig","id","title","inputType","options","Constants","NOTCERTIFIED","NEEDSREVIEW","APPROVED","headerActions","ansibleRepositoryCreateAction","noDataButton","button","noDataDescription","noDataTitle","query","_ref","queryParams","_objectSpread","params","status","concat","AnsibleRepositoryAPI","list","renderTableRow","item","index","actionContext","name","pulp_created","pulp_href","parsePulpIDFromURL","kebabItems","map","action","dropdownItem","React","key","Link","to","formatPath","Paths","ansibleRepositoryDetail","lastSyncStatus","lastSynced","DateComponent","date","ListItemActions","sortHeaders","type"],"sourceRoot":""}