{"version":3,"file":"js/781.1c97c421671c4e32f4fa.js","mappings":"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","sources":["webpack:///./node_modules/lodash/isEqual.js","webpack:///./src/containers/collection-detail/base.ts","webpack:///./src/containers/collection-detail/collection-detail.tsx"],"sourcesContent":["var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","import { CollectionAPI, CollectionDetailType } from 'src/api';\nimport { AlertType } from 'src/components';\nimport { Paths, formatPath } from 'src/paths';\n\nexport interface IBaseCollectionState {\n  params: {\n    version?: string;\n    showing?: string;\n    keywords?: string;\n  };\n  collection: CollectionDetailType;\n  alerts?: AlertType[];\n}\n\nexport function loadCollection({\n  forceReload,\n  matchParams,\n  navigate,\n  selectedRepo,\n  setCollection,\n  stateParams,\n}) {\n  CollectionAPI.getCached(\n    matchParams['namespace'],\n    matchParams['collection'],\n    selectedRepo,\n    { ...stateParams, include_related: 'my_permissions' },\n    forceReload,\n  )\n    .then((result) => {\n      return CollectionAPI.list(\n        {\n          name: matchParams['collection'],\n        },\n        selectedRepo,\n      ).then((collections) => {\n        result.deprecated = collections.data.data[0].deprecated;\n        setCollection(result);\n      });\n    })\n    .catch(() => {\n      navigate(formatPath(Paths.notFound));\n    });\n}\n","import { isEqual } from 'lodash';\nimport * as React from 'react';\nimport {\n  AlertList,\n  CollectionHeader,\n  CollectionInfo,\n  LoadingPageWithHeader,\n  Main,\n  closeAlertMixin,\n} from 'src/components';\nimport { AppContext } from 'src/loaders/app-context';\nimport { Paths, formatPath, namespaceBreadcrumb } from 'src/paths';\nimport { RouteProps, withRouter } from 'src/utilities';\nimport { ParamHelper } from 'src/utilities/param-helper';\nimport { IBaseCollectionState, loadCollection } from './base';\n\n// renders collection level information\nclass CollectionDetail extends React.Component<\n  RouteProps,\n  IBaseCollectionState\n> {\n  constructor(props) {\n    super(props);\n\n    const params = ParamHelper.parseParamString(props.location.search);\n\n    this.state = {\n      collection: undefined,\n      params: params,\n      alerts: [],\n    };\n  }\n\n  componentDidMount() {\n    this.loadCollection(true);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(prevProps.location, this.props.location)) {\n      this.loadCollection(false);\n    }\n  }\n\n  render() {\n    const { collection, params, alerts } = this.state;\n\n    if (!collection) {\n      return <LoadingPageWithHeader></LoadingPageWithHeader>;\n    }\n\n    const breadcrumbs = [\n      namespaceBreadcrumb,\n      {\n        url: formatPath(Paths.namespaceByRepo, {\n          namespace: collection.namespace.name,\n          repo: this.context.selectedRepo,\n        }),\n        name: collection.namespace.name,\n      },\n      {\n        name: collection.name,\n      },\n    ];\n\n    return (\n      <React.Fragment>\n        <AlertList\n          alerts={alerts}\n          closeAlert={(i) => this.closeAlert(i)}\n        ></AlertList>\n        <CollectionHeader\n          reload={() => this.loadCollection(true)}\n          collection={collection}\n          params={params}\n          updateParams={(p) =>\n            this.updateParams(p, () => this.loadCollection(true))\n          }\n          breadcrumbs={breadcrumbs}\n          activeTab='install'\n          repo={this.context.selectedRepo}\n        />\n        <Main>\n          <section className='body'>\n            <CollectionInfo\n              {...collection}\n              updateParams={(p) => this.updateParams(p)}\n              params={this.state.params}\n              addAlert={(variant, title, description) =>\n                this.setState({\n                  alerts: [\n                    ...this.state.alerts,\n                    {\n                      variant,\n                      title,\n                      description,\n                    },\n                  ],\n                })\n              }\n            />\n          </section>\n        </Main>\n      </React.Fragment>\n    );\n  }\n\n  private loadCollection(forceReload) {\n    loadCollection({\n      forceReload,\n      matchParams: this.props.routeParams,\n      navigate: this.props.navigate,\n      selectedRepo: this.context.selectedRepo,\n      setCollection: (collection) => this.setState({ collection }),\n      stateParams: this.state.params,\n    });\n  }\n\n  get updateParams() {\n    return ParamHelper.updateParamsMixin();\n  }\n\n  private get closeAlert() {\n    return closeAlertMixin('alerts');\n  }\n}\n\nexport default withRouter(CollectionDetail);\n\nCollectionDetail.contextType = AppContext;\n"],"names":["baseIsEqual","module","exports","value","other","loadCollection","_ref","forceReload","matchParams","navigate","selectedRepo","setCollection","stateParams","CollectionAPI","_objectSpread","include_related","then","result","name","collections","deprecated","data","formatPath","Paths","CollectionDetail","_React$Component","_inherits","_super","props","_this","_classCallCheck","call","params","ParamHelper","location","search","state","collection","undefined","alerts","_createClass","key","this","prevProps","_isEqual","_this2","_this$state","React","LoadingPageWithHeader","breadcrumbs","namespaceBreadcrumb","url","namespace","repo","context","AlertList","closeAlert","i","CollectionHeader","reload","updateParams","p","activeTab","Main","className","CollectionInfo","_extends","addAlert","variant","title","description","setState","concat","_toConsumableArray","_this3","routeParams","get","closeAlertMixin","withRouter","contextType","AppContext"],"sourceRoot":""}