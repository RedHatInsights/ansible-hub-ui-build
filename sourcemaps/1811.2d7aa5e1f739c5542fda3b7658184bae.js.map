{"version":3,"file":"js/1811.b21c7fe1dc072fd8e68e.js","mappings":"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","sources":["webpack:///./src/actions/action.tsx","webpack:///./src/actions/ansible-remote-create.tsx","webpack:///./src/actions/ansible-remote-delete.tsx","webpack:///./src/actions/ansible-remote-download-ca.tsx","webpack:///./src/actions/ansible-remote-download-client.tsx","webpack:///./src/actions/ansible-remote-download-requirements.tsx","webpack:///./src/actions/ansible-remote-edit.tsx","webpack:///./src/actions/ansible-repository-copy.tsx","webpack:///./src/actions/ansible-repository-create.tsx","webpack:///./src/actions/ansible-repository-delete.tsx","webpack:///./src/actions/ansible-repository-edit.tsx","webpack:///./src/actions/ansible-repository-sync.tsx","webpack:///./src/actions/ansible-repository-version-revert.tsx","webpack:///./src/actions/ansible-repository-collection-version-add.tsx","webpack:///./src/actions/ansible-repository-collection-version-remove.tsx","webpack:///./src/permissions.ts"],"sourcesContent":["import { Button, DropdownItem } from '@patternfly/react-core';\nimport React from 'react';\nimport { Tooltip } from 'src/components';\nimport { type PermissionContextType } from 'src/permissions';\n\ntype ModalType = ({ addAlert, state, setState, query }) => React.ReactNode;\n\ninterface ActionParams {\n  buttonVariant?: 'primary' | 'secondary';\n  condition?: PermissionContextType;\n  disabled?: (item, actionContext) => string | null;\n  modal?: ModalType;\n  onClick: (item, actionContext) => void;\n  title: string;\n  visible?: (item, actionContext) => boolean;\n}\n\nexport class ActionType {\n  button: (item, actionContext) => React.ReactNode | null;\n  disabled: (item, actionContext) => string | null;\n  dropdownItem: (item, actionContext) => React.ReactNode | null;\n  modal?: ModalType;\n  title: string;\n  visible: (item, actionContext) => boolean;\n}\n\nexport const Action = ({\n  buttonVariant,\n  condition = () => true,\n  disabled = () => null,\n  modal = null,\n  onClick,\n  title,\n  visible = () => true,\n}: ActionParams): ActionType => ({\n  title,\n  button: (item, actionContext) =>\n    condition(actionContext, item) && visible(item, actionContext) ? (\n      disabled(item, actionContext) ? (\n        <Tooltip content={disabled(item, actionContext)} key={title}>\n          <Button variant={buttonVariant} isDisabled>\n            {title}\n          </Button>\n        </Tooltip>\n      ) : (\n        <Button\n          variant={buttonVariant}\n          key={title}\n          onClick={() => onClick(item, actionContext)}\n        >\n          {title}\n        </Button>\n      )\n    ) : null,\n  dropdownItem: (item, actionContext) =>\n    condition(actionContext, item) && visible(item, actionContext) ? (\n      disabled(item, actionContext) ? (\n        <DropdownItem\n          key={title}\n          description={disabled(item, actionContext)}\n          isDisabled\n        >\n          {title}\n        </DropdownItem>\n      ) : (\n        <DropdownItem key={title} onClick={() => onClick(item, actionContext)}>\n          {title}\n        </DropdownItem>\n      )\n    ) : null,\n  modal,\n  visible,\n  disabled,\n});\n","import { t } from '@lingui/macro';\nimport { Paths, formatPath } from 'src/paths';\nimport { canAddAnsibleRemote } from 'src/permissions';\nimport { Action } from './action';\n\nexport const ansibleRemoteCreateAction = Action({\n  condition: canAddAnsibleRemote,\n  title: t`Add remote`,\n  onClick: (item, { navigate }) =>\n    navigate(formatPath(Paths.ansibleRemoteEdit, { name: '_' })),\n});\n","import { t } from '@lingui/macro';\nimport React from 'react';\nimport { AnsibleRemoteAPI } from 'src/api';\nimport { DeleteAnsibleRemoteModal } from 'src/components';\nimport { canDeleteAnsibleRemote } from 'src/permissions';\nimport { handleHttpError, parsePulpIDFromURL, taskAlert } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRemoteDeleteAction = Action({\n  condition: canDeleteAnsibleRemote,\n  title: t`Delete`,\n  modal: ({ addAlert, query, setState, state }) =>\n    state.deleteModalOpen ? (\n      <DeleteAnsibleRemoteModal\n        closeAction={() => setState({ deleteModalOpen: null })}\n        deleteAction={() =>\n          deleteRemote(state.deleteModalOpen, { addAlert, setState, query })\n        }\n        name={state.deleteModalOpen.name}\n      />\n    ) : null,\n  onClick: (\n    { name, id, pulp_href }: { name: string; id?: string; pulp_href?: string },\n    { setState },\n  ) =>\n    setState({\n      deleteModalOpen: { pulpId: id || parsePulpIDFromURL(pulp_href), name },\n    }),\n});\n\nfunction deleteRemote({ name, pulpId }, { addAlert, setState, query }) {\n  return AnsibleRemoteAPI.delete(pulpId)\n    .then(({ data }) => {\n      addAlert(taskAlert(data.task, t`Removal started for remote ${name}`));\n\n      setState({ deleteModalOpen: null });\n      query();\n    })\n    .catch(\n      handleHttpError(t`Failed to remove remote ${name}`, () => null, addAlert),\n    );\n}\n","import { t } from '@lingui/macro';\nimport { downloadString } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRemoteDownloadCAAction = Action({\n  title: t`Download CA certificate`,\n  onClick: ({ ca_cert }) => downloadString(ca_cert, 'ca_cert'),\n  visible: ({ ca_cert }) => !!ca_cert,\n});\n","import { t } from '@lingui/macro';\nimport { downloadString } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRemoteDownloadClientAction = Action({\n  title: t`Download client certificate`,\n  onClick: ({ client_cert }) => downloadString(client_cert, 'client_cert'),\n  visible: ({ client_cert }) => !!client_cert,\n});\n","import { t } from '@lingui/macro';\nimport { downloadString } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRemoteDownloadRequirementsAction = Action({\n  title: t`Download requirements YAML`,\n  onClick: ({ requirements_file }) =>\n    downloadString(requirements_file, 'requirements.yml'),\n  visible: ({ requirements_file }) => !!requirements_file,\n});\n","import { t } from '@lingui/macro';\nimport { Paths, formatPath } from 'src/paths';\nimport { canEditAnsibleRemote } from 'src/permissions';\nimport { Action } from './action';\n\nexport const ansibleRemoteEditAction = Action({\n  condition: canEditAnsibleRemote,\n  title: t`Edit`,\n  onClick: ({ name }, { navigate }) =>\n    navigate(formatPath(Paths.ansibleRemoteEdit, { name })),\n});\n","import { t } from '@lingui/macro';\nimport React from 'react';\nimport { getRepoUrl } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRepositoryCopyAction = Action({\n  title: t`Copy CLI configuration`,\n  onClick: (item, { addAlert }) => {\n    const cliConfig = [\n      '[galaxy]',\n      `server_list = ${item.name}_repo`,\n      '',\n      `[galaxy_server.${item.name}_repo]`,\n      `url=${getRepoUrl()}`,\n      'token=<put your token here>',\n    ].join('\\n');\n\n    navigator.clipboard.writeText(cliConfig);\n    addAlert({\n      title: t`Successfully copied to clipboard`,\n      variant: 'success',\n      description: <pre>{cliConfig}</pre>,\n    });\n  },\n});\n","import { t } from '@lingui/macro';\nimport { Paths, formatPath } from 'src/paths';\nimport { canAddAnsibleRepository } from 'src/permissions';\nimport { Action } from './action';\n\nexport const ansibleRepositoryCreateAction = Action({\n  condition: canAddAnsibleRepository,\n  title: t`Add repository`,\n  onClick: (item, { navigate }) =>\n    navigate(formatPath(Paths.ansibleRepositoryEdit, { name: '_' })),\n});\n","import { t } from '@lingui/macro';\nimport React from 'react';\nimport { AnsibleDistributionAPI, AnsibleRepositoryAPI } from 'src/api';\nimport { DeleteAnsibleRepositoryModal } from 'src/components';\nimport { Constants } from 'src/constants';\nimport { canDeleteAnsibleRepository } from 'src/permissions';\nimport { handleHttpError, parsePulpIDFromURL, taskAlert } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRepositoryDeleteAction = Action({\n  condition: canDeleteAnsibleRepository,\n  title: t`Delete`,\n  modal: ({ addAlert, query, setState, state }) =>\n    state.deleteModalOpen ? (\n      <DeleteAnsibleRepositoryModal\n        closeAction={() => setState({ deleteModalOpen: null })}\n        deleteAction={() =>\n          deleteRepository(state.deleteModalOpen, { addAlert, setState, query })\n        }\n        name={state.deleteModalOpen.name}\n      />\n    ) : null,\n  onClick: (\n    { name, id, pulp_href }: { name: string; id?: string; pulp_href?: string },\n    { setState },\n  ) =>\n    setState({\n      deleteModalOpen: {\n        pulpId: id || parsePulpIDFromURL(pulp_href),\n        name,\n        pulp_href,\n      },\n    }),\n  disabled: ({ name }) => {\n    if (Constants.PROTECTED_REPOSITORIES.includes(name)) {\n      return t`Protected repositories cannot be deleted.`;\n    }\n\n    return null;\n  },\n});\n\nasync function deleteRepository(\n  { name, pulp_href, pulpId },\n  { addAlert, setState, query },\n) {\n  const distributionsToDelete = await AnsibleDistributionAPI.list({\n    repository: pulp_href,\n  })\n    .then(({ data: { results } }) => results || [])\n    .catch((e) => {\n      handleHttpError(\n        t`Failed to list distributions, removing only the repository.`,\n        () => null,\n        addAlert,\n      )(e);\n      return [];\n    });\n\n  const deleteRepo = AnsibleRepositoryAPI.delete(pulpId)\n    .then(({ data }) => {\n      addAlert(taskAlert(data.task, t`Removal started for repository ${name}`));\n    })\n    .catch(\n      handleHttpError(\n        t`Failed to remove repository ${name}`,\n        () => setState({ deleteModalOpen: null }),\n        addAlert,\n      ),\n    );\n\n  const deleteDistribution = ({ name, pulp_href }) => {\n    const distribution_id = parsePulpIDFromURL(pulp_href);\n    return AnsibleDistributionAPI.delete(distribution_id)\n      .then(({ data }) =>\n        addAlert(\n          taskAlert(data.task, t`Removal started for distribution ${name}`),\n        ),\n      )\n      .catch(\n        handleHttpError(\n          t`Failed to remove distribution ${name}`,\n          () => null,\n          addAlert,\n        ),\n      );\n  };\n\n  return Promise.all([\n    deleteRepo,\n    ...distributionsToDelete.map(deleteDistribution),\n  ]).then(() => {\n    setState({ deleteModalOpen: null });\n    query();\n  });\n}\n","import { t } from '@lingui/macro';\nimport { Paths, formatPath } from 'src/paths';\nimport { canEditAnsibleRepository } from 'src/permissions';\nimport { Action } from './action';\n\nexport const ansibleRepositoryEditAction = Action({\n  condition: canEditAnsibleRepository,\n  title: t`Edit`,\n  onClick: ({ name }, { navigate }) =>\n    navigate(formatPath(Paths.ansibleRepositoryEdit, { name })),\n});\n","import { t } from '@lingui/macro';\nimport { AnsibleRepositoryAPI } from 'src/api';\nimport { canSyncAnsibleRepository } from 'src/permissions';\nimport { handleHttpError, parsePulpIDFromURL, taskAlert } from 'src/utilities';\nimport { Action } from './action';\n\nexport const ansibleRepositorySyncAction = Action({\n  condition: canSyncAnsibleRepository,\n  title: t`Sync`,\n  onClick: ({ name, pulp_href }, { addAlert, query }) => {\n    const pulpId = parsePulpIDFromURL(pulp_href);\n    AnsibleRepositoryAPI.sync(pulpId)\n      .then(({ data }) => {\n        addAlert(\n          taskAlert(data.task, t`Sync started for repository \"${name}\".`),\n        );\n\n        query();\n      })\n      .catch(\n        handleHttpError(\n          t`Failed to sync repository \"${name}\"`,\n          () => null,\n          addAlert,\n        ),\n      );\n  },\n  visible: (_item, { hasPermission }) =>\n    hasPermission('ansible.change_collectionremote'),\n  disabled: ({ remote, last_sync_task }) => {\n    if (!remote) {\n      return t`There are no remotes associated with this repository.`;\n    }\n\n    if (\n      last_sync_task &&\n      ['running', 'waiting'].includes(last_sync_task.state)\n    ) {\n      return t`Sync task is already queued.`;\n    }\n\n    return null;\n  },\n});\n","import { Trans, t } from '@lingui/macro';\nimport { Button, Modal, Spinner } from '@patternfly/react-core';\nimport React, { useState } from 'react';\nimport { AnsibleRepositoryAPI } from 'src/api';\nimport { canRevertAnsibleRepositoryVersion } from 'src/permissions';\nimport { handleHttpError, parsePulpIDFromURL, taskAlert } from 'src/utilities';\nimport { Action } from './action';\n\nconst RevertModal = ({\n  version,\n  cancelAction,\n  revertAction,\n}: {\n  version: number;\n  cancelAction: () => void;\n  revertAction: () => void;\n}) => {\n  const [pending, setPending] = useState(false);\n\n  return (\n    <Modal\n      actions={[\n        <div data-cy='delete-button' key='delete'>\n          <Button\n            key='delete'\n            onClick={() => {\n              setPending(true);\n              revertAction();\n            }}\n            variant='danger'\n            isDisabled={pending}\n          >\n            {t`Revert`}\n            {pending && <Spinner size='sm'></Spinner>}\n          </Button>\n        </div>,\n        <Button key='cancel' onClick={cancelAction} variant='link'>\n          {t`Cancel`}\n        </Button>,\n      ]}\n      isOpen={true}\n      onClose={cancelAction}\n      title={t`Revert repository`}\n      titleIconVariant='warning'\n      variant={'small'}\n      data-cy='modal_checkbox'\n    >\n      <Trans>\n        Are you sure you want to revert this repository to the version below?\n      </Trans>\n      <br />\n      <b>{version}</b>\n    </Modal>\n  );\n};\n\nfunction revert(\n  { repositoryName, pulp_href, number },\n  { addAlert, setState, query },\n) {\n  // the uuid in version href is the reposotory uuid\n  const pulpId = parsePulpIDFromURL(pulp_href);\n\n  return AnsibleRepositoryAPI.revert(pulpId, pulp_href)\n    .then(({ data }) => {\n      addAlert(\n        taskAlert(\n          data.task,\n          t`Revert started for repository \"${repositoryName}\".`,\n        ),\n      );\n      setState({ revertModal: null });\n      query();\n    })\n    .catch(\n      handleHttpError(\n        t`Failed to revert repository \"${repositoryName}\" to version \"${number}\"`,\n        () => setState({ revertModal: null }),\n        addAlert,\n      ),\n    );\n}\n\nexport const ansibleRepositoryVersionRevertAction = Action({\n  condition: canRevertAnsibleRepositoryVersion,\n  title: t`Revert to this version`,\n  modal: ({ addAlert, state, setState, query }) =>\n    state.revertModal ? (\n      <RevertModal\n        cancelAction={() => setState({ revertModal: null })}\n        revertAction={() =>\n          revert(state.revertModal, { addAlert, setState, query })\n        }\n        version={state.revertModal.number}\n      />\n    ) : null,\n  onClick: ({ repositoryName, number, pulp_href }, { setState }) =>\n    setState({ revertModal: { repositoryName, number, pulp_href } }),\n  disabled: ({ isLatest }) => {\n    if (isLatest) {\n      return t`Already the current version`;\n    }\n\n    return null;\n  },\n});\n","import { t } from '@lingui/macro';\nimport { Button, Modal, Radio } from '@patternfly/react-core';\nimport React, { useState } from 'react';\nimport {\n  AnsibleRepositoryAPI,\n  CollectionVersionAPI,\n  CollectionVersionSearch,\n} from 'src/api';\nimport { AlertList, AlertType, DetailList, closeAlert } from 'src/components';\nimport { canEditAnsibleRepository } from 'src/permissions';\nimport { handleHttpError, parsePulpIDFromURL, taskAlert } from 'src/utilities';\nimport { Action } from './action';\n\nconst add = (\n  { repositoryHref, repositoryName },\n  { namespace, name, version, pulp_href: collectionVersionHref },\n  { addAlert, setState, query },\n) => {\n  const pulpId = parsePulpIDFromURL(repositoryHref);\n  return AnsibleRepositoryAPI.addContent(pulpId, collectionVersionHref)\n    .then(({ data }) => {\n      addAlert(\n        taskAlert(\n          data.task,\n          t`Started adding ${namespace}.${name} v${version} to repository \"${repositoryName}\".`,\n        ),\n      );\n      setState((ms) => ({ ...ms, addCollectionVersionModal: null }));\n      query({});\n    })\n    .catch(\n      handleHttpError(\n        t`Failed to add ${namespace}.${name} v${version} to repository \"${repositoryName}\".`,\n        () => setState((ms) => ({ ...ms, addCollectionVersionModal: null })),\n        addAlert,\n      ),\n    );\n};\n\nconst AddCollectionVersionModal = ({\n  addAction,\n  closeAction,\n}: {\n  addAction: (selected) => void;\n  closeAction: () => void;\n}) => {\n  const [alerts, setAlerts] = useState([]);\n  const [selected, setSelected] = useState(null);\n\n  const addAlert = (alert: AlertType) => {\n    setAlerts([...alerts, alert]);\n  };\n\n  const query = ({ params }) => {\n    const newParams = { ...params };\n    newParams.ordering = newParams.sort;\n    delete newParams.sort;\n\n    return CollectionVersionAPI.list({\n      ...newParams,\n    }).then(\n      ({\n        data: {\n          meta: { count },\n          data: results,\n        },\n      }) => ({\n        data: { count, results },\n      }),\n    );\n  };\n\n  const [modalState, setModalState] = useState({});\n\n  const renderTableRow = (item: CollectionVersionSearch, index: number) => {\n    const {\n      collection_version: { name, namespace, version, description },\n    } = item;\n\n    return (\n      <tr onClick={() => setSelected(item)} key={index}>\n        <td>\n          <Radio\n            aria-label={`${namespace}.${name} v${version}`}\n            id={`collection-${index}`}\n            isChecked={selected === item}\n            name={`collection-${index}`}\n          />\n        </td>\n        <td>\n          {namespace}.{name} v{version}\n        </td>\n        <td>{description}</td>\n      </tr>\n    );\n  };\n\n  return (\n    <Modal\n      actions={[\n        <Button\n          key='confirm'\n          onClick={() => addAction(selected)}\n          variant='primary'\n          isDisabled={!selected}\n        >\n          {t`Select`}\n        </Button>,\n        <Button key='cancel' onClick={closeAction} variant='link'>\n          {t`Cancel`}\n        </Button>,\n      ]}\n      isOpen={true}\n      onClose={closeAction}\n      title={t`Select a collection`}\n      variant='large'\n    >\n      <section className='modal-body' data-cy='modal-body'>\n        <DetailList<CollectionVersionSearch>\n          actionContext={{\n            addAlert,\n            state: modalState,\n            setState: setModalState,\n            query,\n            hasPermission: () => {\n              throw 'unused';\n            },\n          }}\n          defaultPageSize={10}\n          defaultSort={'name'}\n          errorTitle={t`Collection versions could not be displayed.`}\n          filterConfig={[\n            {\n              id: 'keywords',\n              title: t`Keywords`,\n            },\n            {\n              id: 'namespace',\n              title: t`Namespace`,\n            },\n          ]}\n          noDataDescription={t`Collection versions will appear once a collection is uploaded.`}\n          noDataTitle={t`No collection versions yet`}\n          query={query}\n          renderTableRow={renderTableRow}\n          sortHeaders={[\n            {\n              title: '',\n              type: 'none',\n              id: 'radio',\n            },\n            {\n              title: t`Collection`,\n              type: 'none',\n              id: 'col1',\n            },\n            {\n              title: t`Description`,\n              type: 'none',\n              id: 'col2',\n            },\n          ]}\n          title={t`Collection versions`}\n        />\n      </section>\n\n      <AlertList\n        alerts={alerts}\n        closeAlert={(i) => closeAlert(i, { alerts, setAlerts })}\n      />\n    </Modal>\n  );\n};\n\nexport const ansibleRepositoryCollectionVersionAddAction = Action({\n  condition: canEditAnsibleRepository,\n  title: t`Add collection`,\n  modal: ({ addAlert, state, setState, query }) =>\n    state.addCollectionVersionModal ? (\n      <AddCollectionVersionModal\n        addAction={(collection) =>\n          add(state.addCollectionVersionModal, collection.collection_version, {\n            addAlert,\n            setState,\n            query,\n          })\n        }\n        closeAction={() =>\n          setState((ms) => ({ ...ms, addCollectionVersionModal: null }))\n        }\n      />\n    ) : null,\n  onClick: (\n    _item,\n    {\n      state: {\n        repository: { name: repositoryName, pulp_href: repositoryHref },\n      },\n      setState,\n    },\n  ) =>\n    setState((ms) => ({\n      ...ms,\n      addCollectionVersionModal: {\n        repositoryHref,\n        repositoryName,\n      },\n    })),\n});\n","import { Trans, t } from '@lingui/macro';\nimport { Text } from '@patternfly/react-core';\nimport React, { useState } from 'react';\nimport { AnsibleRepositoryAPI } from 'src/api';\nimport { DeleteModal } from 'src/components';\nimport { canEditAnsibleRepository } from 'src/permissions';\nimport { handleHttpError, parsePulpIDFromURL, taskAlert } from 'src/utilities';\nimport { Action } from './action';\n\nconst remove = (\n  {\n    collection: { namespace, name, version },\n    collectionVersionHref,\n    repositoryHref,\n    repositoryName,\n  },\n  { addAlert, setState, query },\n) => {\n  const pulpId = parsePulpIDFromURL(repositoryHref);\n  return AnsibleRepositoryAPI.removeContent(pulpId, collectionVersionHref)\n    .then(({ data }) => {\n      addAlert(\n        taskAlert(\n          data.task,\n          t`Removal of ${namespace}.${name} v${version} from repository \"${repositoryName}\" started.`,\n        ),\n      );\n      setState({ removeCollectionVersionModal: null });\n      query();\n    })\n    .catch(\n      handleHttpError(\n        t`Failed to remove ${namespace}.${name} v${version} from repository \"${repositoryName}\".`,\n        () => setState({ removeCollectionVersionModal: null }),\n        addAlert,\n      ),\n    );\n};\n\nconst RemoveCollectionVersionModal = ({\n  name,\n  namespace,\n  repositoryName,\n  version,\n  closeAction,\n  deleteAction,\n}: {\n  closeAction: () => void;\n  deleteAction: () => void;\n  name: string;\n  namespace: string;\n  repositoryName: string;\n  version: string;\n}) => {\n  const [pending, setPending] = useState(false);\n\n  if (!name) {\n    return null;\n  }\n\n  return (\n    <DeleteModal\n      spinner={pending}\n      cancelAction={() => {\n        setPending(false);\n        closeAction();\n      }}\n      deleteAction={() => {\n        setPending(false);\n        deleteAction();\n      }}\n      isDisabled={pending}\n      isRemove\n      title={t`Remove collection version?`}\n    >\n      <Text>\n        <Trans>\n          Are you sure you want to remove the collection version{' '}\n          <b>\n            {namespace}.{name} v{version}\n          </b>{' '}\n          from the <b>{repositoryName}</b> repository?\n        </Trans>\n      </Text>\n    </DeleteModal>\n  );\n};\n\nexport const ansibleRepositoryCollectionVersionRemoveAction = Action({\n  condition: canEditAnsibleRepository,\n  title: t`Remove`,\n  modal: ({ addAlert, state, setState, query }) =>\n    state.removeCollectionVersionModal ? (\n      <RemoveCollectionVersionModal\n        closeAction={() => setState({ removeCollectionVersionModal: null })}\n        deleteAction={() =>\n          remove(state.removeCollectionVersionModal, {\n            addAlert,\n            setState,\n            query,\n          })\n        }\n        name={state.removeCollectionVersionModal.collection.name}\n        namespace={state.removeCollectionVersionModal.collection.namespace}\n        repositoryName={state.removeCollectionVersionModal.repositoryName}\n        version={state.removeCollectionVersionModal.collection.version}\n      />\n    ) : null,\n  onClick: (\n    {\n      collection_version: {\n        namespace,\n        name,\n        version,\n        pulp_href: collectionVersionHref,\n      },\n      repository: { name: repositoryName, pulp_href: repositoryHref },\n    },\n    { setState },\n  ) =>\n    setState({\n      removeCollectionVersionModal: {\n        collection: { namespace, name, version },\n        repositoryName,\n        repositoryHref,\n        collectionVersionHref,\n      },\n    }),\n});\n","import { FeatureFlagsType, SettingsType, UserType } from 'src/api';\n\nexport type PermissionContextType = (\n  o: {\n    featureFlags?: FeatureFlagsType;\n    settings?: SettingsType;\n    user: UserType;\n    hasPermission: (string) => boolean;\n    hasObjectPermission?: (string, item?) => boolean;\n  },\n  item?,\n) => boolean;\n\nexport const isLoggedIn: PermissionContextType = ({ user }) =>\n  user && !user.is_anonymous;\n\nconst has_model_perms =\n  (permission: string): PermissionContextType =>\n  ({ hasPermission, user }) =>\n    hasPermission(permission) || user?.is_superuser;\n\nconst has_model_or_obj_perms =\n  (permission: string): PermissionContextType =>\n  ({ hasPermission, hasObjectPermission, user }, item?) =>\n    hasPermission(permission) ||\n    hasObjectPermission?.(permission, item) ||\n    user?.is_superuser;\n\n// Ansible Remotes\nexport const canAddAnsibleRemote = has_model_perms(\n  'ansible.add_collectionremote',\n);\nexport const canDeleteAnsibleRemote = has_model_or_obj_perms(\n  'ansible.delete_collectionremote',\n);\nexport const canEditAnsibleRemote = has_model_or_obj_perms(\n  'ansible.change_collectionremote',\n);\nexport const canViewAnsibleRemotes = has_model_or_obj_perms(\n  'ansible.view_collectionremote',\n);\nexport const canEditAnsibleRemoteAccess = has_model_or_obj_perms(\n  'ansible.manage_roles_collectionremote',\n);\n\n// Ansible Repositories\nexport const canAddAnsibleRepository = has_model_perms(\n  'ansible.add_ansiblerepository',\n);\nexport const canDeleteAnsibleRepository = has_model_or_obj_perms(\n  'ansible.delete_ansiblerepository',\n);\nexport const canEditAnsibleRepository = has_model_or_obj_perms(\n  'ansible.change_ansiblerepository',\n);\nexport const canSyncAnsibleRepository = canEditAnsibleRepository;\n// everybody can list/view, not has_model_or_obj_perms('ansible.view_ansiblerepository')\nexport const canViewAnsibleRepositories = isLoggedIn;\nexport const canEditAnsibleRepositoryAccess = has_model_or_obj_perms(\n  'ansible.manage_roles_ansiblerepository',\n);\n\n// Ansible Repository Versions\n// simulating has_repository_model_or_obj_perms by passing in repository as item\nexport const canRevertAnsibleRepositoryVersion = canEditAnsibleRepository;\n"],"names":["Action","_ref","buttonVariant","_ref$condition","condition","_ref$disabled","disabled","_ref$modal","modal","onClick","title","_ref$visible","visible","button","item","actionContext","React","Tooltip","content","key","Button","variant","isDisabled","dropdownItem","DropdownItem","description","ansibleRemoteCreateAction","canAddAnsibleRemote","i18n","navigate","formatPath","Paths","name","ansibleRemoteDeleteAction","canDeleteAnsibleRemote","addAlert","query","setState","state","deleteModalOpen","DeleteAnsibleRemoteModal","closeAction","deleteAction","_ref4","_ref5","pulpId","AnsibleRemoteAPI","then","_ref6","data","taskAlert","task","handleHttpError","deleteRemote","_ref2","_ref3","id","pulp_href","parsePulpIDFromURL","ansibleRemoteDownloadCAAction","ca_cert","downloadString","ansibleRemoteDownloadClientAction","client_cert","ansibleRemoteDownloadRequirementsAction","requirements_file","ansibleRemoteEditAction","canEditAnsibleRemote","ansibleRepositoryCopyAction","cliConfig","concat","getRepoUrl","join","navigator","clipboard","writeText","ansibleRepositoryCreateAction","canAddAnsibleRepository","ansibleRepositoryDeleteAction","canDeleteAnsibleRepository","DeleteAnsibleRepositoryModal","_x","_x2","_deleteRepository","apply","arguments","deleteRepository","Constants","_asyncToGenerator","_regeneratorRuntime","_callee","distributionsToDelete","deleteRepo","deleteDistribution","_context","prev","next","AnsibleDistributionAPI","repository","_ref7","results","e","sent","AnsibleRepositoryAPI","_ref8","_ref9","distribution_id","_ref10","abrupt","Promise","all","_toConsumableArray","map","stop","ansibleRepositoryEditAction","canEditAnsibleRepository","ansibleRepositorySyncAction","canSyncAnsibleRepository","_item","hasPermission","remote","last_sync_task","includes","RevertModal","version","cancelAction","revertAction","_useState","useState","_useState2","_slicedToArray","pending","setPending","Modal","actions","Spinner","size","isOpen","onClose","titleIconVariant","Trans","ansibleRepositoryVersionRevertAction","canRevertAnsibleRepositoryVersion","revertModal","repositoryName","number","revert","isLatest","AddCollectionVersionModal","addAction","alerts","setAlerts","_useState3","_useState4","selected","setSelected","newParams","_objectSpread","params","ordering","sort","CollectionVersionAPI","_ref7$data","count","meta","_useState5","_useState6","modalState","setModalState","className","DetailList","alert","defaultPageSize","defaultSort","errorTitle","filterConfig","noDataDescription","noDataTitle","renderTableRow","index","_item$collection_vers","collection_version","namespace","Radio","isChecked","sortHeaders","type","AlertList","closeAlert","i","ansibleRepositoryCollectionVersionAddAction","addCollectionVersionModal","collection","repositoryHref","collectionVersionHref","ms","add","_ref9$state$repositor","RemoveCollectionVersionModal","DeleteModal","spinner","isRemove","Text","values","components","ansibleRepositoryCollectionVersionRemoveAction","removeCollectionVersionModal","_ref$collection","remove","_ref6$collection_vers","_ref6$repository","has_model_perms","permission","user","is_superuser","has_model_or_obj_perms","hasObjectPermission","canViewAnsibleRemotes","canEditAnsibleRemoteAccess","canViewAnsibleRepositories","is_anonymous","canEditAnsibleRepositoryAccess"],"sourceRoot":""}